!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(u){var d,n,p,s,h,t,l="Close",c="BeforeClose",m="MarkupParse",f="Open",o="Change",i="mfp",g="."+i,y="mfp-ready",a="mfp-removing",r="mfp-prevent-close",e=function(){},v=!!window.jQuery,b=u(window),w=function(e,t){d.ev.on(i+e+g,t)},k=function(e,t,i,n){var s=document.createElement("div");return s.className="mfp-"+e,i&&(s.innerHTML=i),n?t&&t.appendChild(s):(s=u(s),t&&s.appendTo(t)),s},C=function(e,t){d.ev.triggerHandler(i+e,t),d.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),d.st.callbacks[e]&&d.st.callbacks[e].apply(d,u.isArray(t)?t:[t]))},E=function(e){return e===t&&d.currTemplate.closeBtn||(d.currTemplate.closeBtn=u(d.st.closeMarkup.replace("%title%",d.st.tClose)),t=e),d.currTemplate.closeBtn},T=function(){u.magnificPopup.instance||((d=new e).init(),u.magnificPopup.instance=d)};e.prototype={constructor:e,init:function(){var e=navigator.appVersion;d.isLowIE=d.isIE8=document.all&&!document.addEventListener,d.isAndroid=/android/gi.test(e),d.isIOS=/iphone|ipad|ipod/gi.test(e),d.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),p=u(document),d.popupsCache={}},open:function(e){var t;if(!1===e.isObj){d.items=e.items.toArray(),d.index=0;var i,n=e.items;for(t=0;t<n.length;t++)if((i=n[t]).parsed&&(i=i.el[0]),i===e.el[0]){d.index=t;break}}else d.items=u.isArray(e.items)?e.items:[e.items],d.index=e.index||0;if(!d.isOpen){d.types=[],h="",e.mainEl&&e.mainEl.length?d.ev=e.mainEl.eq(0):d.ev=p,e.key?(d.popupsCache[e.key]||(d.popupsCache[e.key]={}),d.currTemplate=d.popupsCache[e.key]):d.currTemplate={},d.st=u.extend(!0,{},u.magnificPopup.defaults,e),d.fixedContentPos="auto"===d.st.fixedContentPos?!d.probablyMobile:d.st.fixedContentPos,d.st.modal&&(d.st.closeOnContentClick=!1,d.st.closeOnBgClick=!1,d.st.showCloseBtn=!1,d.st.enableEscapeKey=!1),d.bgOverlay||(d.bgOverlay=k("bg").on("click"+g,function(){d.close()}),d.wrap=k("wrap").attr("tabindex",-1).on("click"+g,function(e){d._checkIfClose(e.target)&&d.close()}),d.container=k("container",d.wrap)),d.contentContainer=k("content"),d.st.preloader&&(d.preloader=k("preloader",d.container,d.st.tLoading));var s=u.magnificPopup.modules;for(t=0;t<s.length;t++){var a=s[t];a=a.charAt(0).toUpperCase()+a.slice(1),d["init"+a].call(d)}C("BeforeOpen"),d.st.showCloseBtn&&(d.st.closeBtnInside?(w(m,function(e,t,i,n){i.close_replaceWith=E(n.type)}),h+=" mfp-close-btn-in"):d.wrap.append(E())),d.st.alignTop&&(h+=" mfp-align-top"),d.fixedContentPos?d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY}):d.wrap.css({top:b.scrollTop(),position:"absolute"}),(!1===d.st.fixedBgPos||"auto"===d.st.fixedBgPos&&!d.fixedContentPos)&&d.bgOverlay.css({height:p.height(),position:"absolute"}),d.st.enableEscapeKey&&p.on("keyup"+g,function(e){27===e.keyCode&&d.close()}),b.on("resize"+g,function(){d.updateSize()}),d.st.closeOnContentClick||(h+=" mfp-auto-cursor"),h&&d.wrap.addClass(h);var o=d.wH=b.height(),r={};if(d.fixedContentPos&&d._hasScrollBar(o)){var l=d._getScrollbarSize();l&&(r.marginRight=l)}d.fixedContentPos&&(d.isIE7?u("body, html").css("overflow","hidden"):r.overflow="hidden");var c=d.st.mainClass;return d.isIE7&&(c+=" mfp-ie7"),c&&d._addClassToMFP(c),d.updateItemHTML(),C("BuildControls"),u("html").css(r),d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||u(document.body)),d._lastFocusedEl=document.activeElement,setTimeout(function(){d.content?(d._addClassToMFP(y),d._setFocus()):d.bgOverlay.addClass(y),p.on("focusin"+g,d._onFocusIn)},16),d.isOpen=!0,d.updateSize(o),C(f),e}d.updateItemHTML()},close:function(){d.isOpen&&(C(c),d.isOpen=!1,d.st.removalDelay&&!d.isLowIE&&d.supportsTransition?(d._addClassToMFP(a),setTimeout(function(){d._close()},d.st.removalDelay)):d._close())},_close:function(){C(l);var e=a+" "+y+" ";if(d.bgOverlay.detach(),d.wrap.detach(),d.container.empty(),d.st.mainClass&&(e+=d.st.mainClass+" "),d._removeClassFromMFP(e),d.fixedContentPos){var t={marginRight:""};d.isIE7?u("body, html").css("overflow",""):t.overflow="",u("html").css(t)}p.off("keyup.mfp focusin"+g),d.ev.off(g),d.wrap.attr("class","mfp-wrap").removeAttr("style"),d.bgOverlay.attr("class","mfp-bg"),d.container.attr("class","mfp-container"),!d.st.showCloseBtn||d.st.closeBtnInside&&!0!==d.currTemplate[d.currItem.type]||d.currTemplate.closeBtn&&d.currTemplate.closeBtn.detach(),d.st.autoFocusLast&&d._lastFocusedEl&&u(d._lastFocusedEl).focus(),d.currItem=null,d.content=null,d.currTemplate=null,d.prevHeight=0,C("AfterClose")},updateSize:function(e){if(d.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*t;d.wrap.css("height",i),d.wH=i}else d.wH=e||b.height();d.fixedContentPos||d.wrap.css("height",d.wH),C("Resize")},updateItemHTML:function(){var e=d.items[d.index];d.contentContainer.detach(),d.content&&d.content.detach(),e.parsed||(e=d.parseEl(d.index));var t=e.type;if(C("BeforeChange",[d.currItem?d.currItem.type:"",t]),d.currItem=e,!d.currTemplate[t]){var i=!!d.st[t]&&d.st[t].markup;C("FirstMarkupParse",i),d.currTemplate[t]=!i||u(i)}s&&s!==e.type&&d.container.removeClass("mfp-"+s+"-holder");var n=d["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,d.currTemplate[t]);d.appendContent(n,t),e.preloaded=!0,C(o,e),s=e.type,d.container.prepend(d.contentContainer),C("AfterChange")},appendContent:function(e,t){(d.content=e)?d.st.showCloseBtn&&d.st.closeBtnInside&&!0===d.currTemplate[t]?d.content.find(".mfp-close").length||d.content.append(E()):d.content=e:d.content="",C("BeforeAppend"),d.container.addClass("mfp-"+t+"-holder"),d.contentContainer.append(d.content)},parseEl:function(e){var t,i=d.items[e];if(i.tagName?i={el:u(i)}:(t=i.type,i={data:i,src:i.src}),i.el){for(var n=d.types,s=0;s<n.length;s++)if(i.el.hasClass("mfp-"+n[s])){t=n[s];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=t||d.st.type||"inline",i.index=e,i.parsed=!0,d.items[e]=i,C("ElementParse",i),d.items[e]},addGroup:function(t,i){var e=function(e){e.mfpEl=this,d._openClick(e,t,i)};i||(i={});var n="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(n).on(n,e)):(i.isObj=!1,i.delegate?t.off(n).on(n,i.delegate,e):(i.items=t).off(n).on(n,e))},_openClick:function(e,t,i){if((void 0!==i.midClick?i.midClick:u.magnificPopup.defaults.midClick)||!(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){var n=void 0!==i.disableOn?i.disableOn:u.magnificPopup.defaults.disableOn;if(n)if(u.isFunction(n)){if(!n.call(d))return!0}else if(b.width()<n)return!0;e.type&&(e.preventDefault(),d.isOpen&&e.stopPropagation()),i.el=u(e.mfpEl),i.delegate&&(i.items=t.find(i.delegate)),d.open(i)}},updateStatus:function(e,t){if(d.preloader){n!==e&&d.container.removeClass("mfp-s-"+n),t||"loading"!==e||(t=d.st.tLoading);var i={status:e,text:t};C("UpdateStatus",i),e=i.status,t=i.text,d.preloader.html(t),d.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),d.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(e){if(!u(e).hasClass(r)){var t=d.st.closeOnContentClick,i=d.st.closeOnBgClick;if(t&&i)return!0;if(!d.content||u(e).hasClass("mfp-close")||d.preloader&&e===d.preloader[0])return!0;if(e===d.content[0]||u.contains(d.content[0],e)){if(t)return!0}else if(i&&u.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){d.bgOverlay.addClass(e),d.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),d.wrap.removeClass(e)},_hasScrollBar:function(e){return(d.isIE7?p.height():document.body.scrollHeight)>(e||b.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).focus()},_onFocusIn:function(e){return e.target===d.wrap[0]||u.contains(d.wrap[0],e.target)?void 0:(d._setFocus(),!1)},_parseMarkup:function(s,e,t){var a;t.data&&(e=u.extend(t.data,e)),C(m,[s,e,t]),u.each(e,function(e,t){if(void 0===t||!1===t)return!0;if(1<(a=e.split("_")).length){var i=s.find(g+"-"+a[0]);if(0<i.length){var n=a[1];"replaceWith"===n?i[0]!==t[0]&&i.replaceWith(t):"img"===n?i.is("img")?i.attr("src",t):i.replaceWith(u("<img>").attr("src",t).attr("class",i.attr("class"))):i.attr(a[1],t)}}else s.find(g+"-"+e).html(t)})},_getScrollbarSize:function(){if(void 0===d.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),d.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return d.scrollbarSize}},u.magnificPopup={instance:null,proto:e.prototype,modules:[],open:function(e,t){return T(),(e=e?u.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return u.magnificPopup.instance&&u.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&(u.magnificPopup.defaults[e]=t.options),u.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},u.fn.magnificPopup=function(e){T();var t=u(this);if("string"==typeof e)if("open"===e){var i,n=v?t.data("magnificPopup"):t[0].magnificPopup,s=parseInt(arguments[1],10)||0;n.items?i=n.items[s]:(i=t,n.delegate&&(i=i.find(n.delegate)),i=i.eq(s)),d._openClick({mfpEl:i},t,n)}else d.isOpen&&d[e].apply(d,Array.prototype.slice.call(arguments,1));else e=u.extend(!0,{},e),v?t.data("magnificPopup",e):t[0].magnificPopup=e,d.addGroup(t,e);return t};var A,S,x,I="inline",P=function(){x&&(S.after(x.addClass(A)).detach(),x=null)};u.magnificPopup.registerModule(I,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(I),w(l+"."+I,function(){P()})},getInline:function(e,t){if(P(),e.src){var i=d.st.inline,n=u(e.src);if(n.length){var s=n[0].parentNode;s&&s.tagName&&(S||(A=i.hiddenClass,S=k(A),A="mfp-"+A),x=n.after(S).detach().removeClass(A)),d.updateStatus("ready")}else d.updateStatus("error",i.tNotFound),n=u("<div>");return e.inlineElement=n}return d.updateStatus("ready"),d._parseMarkup(t,{},e),t}}});var N,M="ajax",L=function(){N&&u(document.body).removeClass(N)},_=function(){L(),d.req&&d.req.abort()};u.magnificPopup.registerModule(M,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){d.types.push(M),N=d.st.ajax.cursor,w(l+"."+M,_),w("BeforeChange."+M,_)},getAjax:function(s){N&&u(document.body).addClass(N),d.updateStatus("loading");var e=u.extend({url:s.src,success:function(e,t,i){var n={data:e,xhr:i};C("ParseAjax",n),d.appendContent(u(n.data),M),s.finished=!0,L(),d._setFocus(),setTimeout(function(){d.wrap.addClass(y)},16),d.updateStatus("ready"),C("AjaxContentAdded")},error:function(){L(),s.finished=s.loadError=!0,d.updateStatus("error",d.st.ajax.tError.replace("%url%",s.src))}},d.st.ajax.settings);return d.req=u.ajax(e),""}}});var O;u.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=d.st.image,t=".image";d.types.push("image"),w(f+t,function(){"image"===d.currItem.type&&e.cursor&&u(document.body).addClass(e.cursor)}),w(l+t,function(){e.cursor&&u(document.body).removeClass(e.cursor),b.off("resize"+g)}),w("Resize"+t,d.resizeImage),d.isLowIE&&w("AfterChange",d.resizeImage)},resizeImage:function(){var e=d.currItem;if(e&&e.img&&d.st.image.verticalFit){var t=0;d.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",d.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,O&&clearInterval(O),e.isCheckingImgSize=!1,C("ImageHasSize",e),e.imgHidden&&(d.content&&d.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],s=function(e){O&&clearInterval(O),O=setInterval(function(){return 0<n.naturalWidth?void d._onImageHasSize(t):(200<i&&clearInterval(O),void(3===++i?s(10):40===i?s(50):100===i&&s(500)))},e)};s(1)},getImage:function(e,t){var i=0,n=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===d.currItem&&(d._onImageHasSize(e),d.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,C("ImageLoadComplete")):++i<200?setTimeout(n,100):s())},s=function(){e&&(e.img.off(".mfploader"),e===d.currItem&&(d._onImageHasSize(e),d.updateStatus("error",a.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},a=d.st.image,o=t.find(".mfp-img");if(o.length){var r=document.createElement("img");r.className="mfp-img",e.el&&e.el.find("img").length&&(r.alt=e.el.find("img").attr("alt")),e.img=u(r).on("load.mfploader",n).on("error.mfploader",s),r.src=e.src,o.is("img")&&(e.img=e.img.clone()),0<(r=e.img[0]).naturalWidth?e.hasSize=!0:r.width||(e.hasSize=!1)}return d._parseMarkup(t,{title:function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=d.st.image.titleSrc;if(t){if(u.isFunction(t))return t.call(d,e);if(e.el)return e.el.attr(t)||""}return""}(e),img_replaceWith:e.img},e),d.resizeImage(),e.hasSize?(O&&clearInterval(O),e.loadError?(t.addClass("mfp-loading"),d.updateStatus("error",a.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),d.updateStatus("ready"))):(d.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),d.findImageSize(e))),t}}});var z;u.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,a=d.st.zoom,t=".zoom";if(a.enabled&&d.supportsTransition){var i,n,s=a.duration,o=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+a.duration/1e3+"s "+a.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return n["-webkit-"+s]=n["-moz-"+s]=n["-o-"+s]=n[s]=i,t.css(n),t},r=function(){d.content.css("visibility","visible")};w("BuildControls"+t,function(){if(d._allowZoom()){if(clearTimeout(i),d.content.css("visibility","hidden"),!(e=d._getItemToZoom()))return void r();(n=o(e)).css(d._getOffset()),d.wrap.append(n),i=setTimeout(function(){n.css(d._getOffset(!0)),i=setTimeout(function(){r(),setTimeout(function(){n.remove(),e=n=null,C("ZoomAnimationEnded")},16)},s)},16)}}),w(c+t,function(){if(d._allowZoom()){if(clearTimeout(i),d.st.removalDelay=s,!e){if(!(e=d._getItemToZoom()))return;n=o(e)}n.css(d._getOffset(!0)),d.wrap.append(n),d.content.css("visibility","hidden"),setTimeout(function(){n.css(d._getOffset())},16)}}),w(l+t,function(){d._allowZoom()&&(r(),n&&n.remove(),e=null)})}},_allowZoom:function(){return"image"===d.currItem.type},_getItemToZoom:function(){return!!d.currItem.hasSize&&d.currItem.img},_getOffset:function(e){var t,i=(t=e?d.currItem.img:d.st.zoom.opener(d.currItem.el||d.currItem)).offset(),n=parseInt(t.css("padding-top"),10),s=parseInt(t.css("padding-bottom"),10);i.top-=u(window).scrollTop()-n;var a={width:t.width(),height:(v?t.innerHeight():t[0].offsetHeight)-s-n};return void 0===z&&(z=void 0!==document.createElement("p").style.MozTransform),z?a["-moz-transform"]=a.transform="translate("+i.left+"px,"+i.top+"px)":(a.left=i.left,a.top=i.top),a}}});var q="iframe",H=function(e){if(d.currTemplate[q]){var t=d.currTemplate[q].find("iframe");t.length&&(e||(t[0].src="//about:blank"),d.isIE8&&t.css("display",e?"block":"none"))}};u.magnificPopup.registerModule(q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){d.types.push(q),w("BeforeChange",function(e,t,i){t!==i&&(t===q?H():i===q&&H(!0))}),w(l+"."+q,function(){H()})},getIframe:function(e,t){var i=e.src,n=d.st.iframe;u.each(n.patterns,function(){return-1<i.indexOf(this.index)?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var s={};return n.srcAction&&(s[n.srcAction]=i),d._parseMarkup(t,s,e),d.updateStatus("ready"),t}}});var F=function(e){var t=d.items.length;return t-1<e?e-t:e<0?t+e:e},B=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};u.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=d.st.gallery,e=".mfp-gallery";return d.direction=!0,!(!a||!a.enabled)&&(h+=" mfp-gallery",w(f+e,function(){a.navigateByImgClick&&d.wrap.on("click"+e,".mfp-img",function(){return 1<d.items.length?(d.next(),!1):void 0}),p.on("keydown"+e,function(e){37===e.keyCode?d.prev():39===e.keyCode&&d.next()})}),w("UpdateStatus"+e,function(e,t){t.text&&(t.text=B(t.text,d.currItem.index,d.items.length))}),w(m+e,function(e,t,i,n){var s=d.items.length;i.counter=1<s?B(a.tCounter,n.index,s):""}),w("BuildControls"+e,function(){if(1<d.items.length&&a.arrows&&!d.arrowLeft){var e=a.arrowMarkup,t=d.arrowLeft=u(e.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass(r),i=d.arrowRight=u(e.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass(r);t.click(function(){d.prev()}),i.click(function(){d.next()}),d.container.append(t.add(i))}}),w(o+e,function(){d._preloadTimeout&&clearTimeout(d._preloadTimeout),d._preloadTimeout=setTimeout(function(){d.preloadNearbyImages(),d._preloadTimeout=null},16)}),void w(l+e,function(){p.off(e),d.wrap.off("click"+e),d.arrowRight=d.arrowLeft=null}))},next:function(){d.direction=!0,d.index=F(d.index+1),d.updateItemHTML()},prev:function(){d.direction=!1,d.index=F(d.index-1),d.updateItemHTML()},goTo:function(e){d.direction=e>=d.index,d.index=e,d.updateItemHTML()},preloadNearbyImages:function(){var e,t=d.st.gallery.preload,i=Math.min(t[0],d.items.length),n=Math.min(t[1],d.items.length);for(e=1;e<=(d.direction?n:i);e++)d._preloadItem(d.index+e);for(e=1;e<=(d.direction?i:n);e++)d._preloadItem(d.index-e)},_preloadItem:function(e){if(e=F(e),!d.items[e].preloaded){var t=d.items[e];t.parsed||(t=d.parseEl(e)),C("LazyLoad",t),"image"===t.type&&(t.img=u('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,C("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0}}}});var j="retina";u.magnificPopup.registerModule(j,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var i=d.st.retina,n=i.ratio;1<(n=isNaN(n)?n():n)&&(w("ImageHasSize."+j,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),w("ElementParse."+j,function(e,t){t.src=i.replaceSrc(t,n)}))}}}}),T()}),function(e,t){var i=function(n,u){"use strict";if(u.getElementsByClassName){var d,p,h=u.documentElement,a=n.Date,s=n.HTMLPictureElement,o="addEventListener",m="getAttribute",t=n[o],f=n.setTimeout,i=n.requestAnimationFrame||f,r=n.requestIdleCallback,g=/^picture$/i,l=["load","error","lazyincluded","_lazyloaded"],c={},y=Array.prototype.forEach,v=function(e,t){return c[t]||(c[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),c[t].test(e[m]("class")||"")&&c[t]},b=function(e,t){v(e,t)||e.setAttribute("class",(e[m]("class")||"").trim()+" "+t)},w=function(e,t){var i;(i=v(e,t))&&e.setAttribute("class",(e[m]("class")||"").replace(i," "))},k=function(t,i,e){var n=e?o:"removeEventListener";e&&k(t,i),l.forEach(function(e){t[n](e,i)})},C=function(e,t,i,n,s){var a=u.createEvent("CustomEvent");return i||(i={}),i.instance=d,a.initCustomEvent(t,!n,!s,i),e.dispatchEvent(a),a},E=function(e,t){var i;!s&&(i=n.picturefill||p.pf)?i({reevaluate:!0,elements:[e]}):t&&t.src&&(e.src=t.src)},T=function(e,t){return(getComputedStyle(e,null)||{})[t]},A=function(e,t,i){for(i=i||e.offsetWidth;i<p.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},S=(Ce=[],Ee=ke=[],(Ae=function(e,t){be&&!t?e.apply(this,arguments):(Ee.push(e),we||(we=!0,(u.hidden?f:i)(Te)))})._lsFlush=Te=function(){var e=Ee;for(Ee=ke.length?Ce:ke,we=!(be=!0);e.length;)e.shift()();be=!1},Ae),e=function(i,e){return e?function(){S(i)}:function(){var e=this,t=arguments;S(function(){i.apply(e,t)})}},x=function(e){var t,i,n=function(){t=null,e()},s=function(){var e=a.now()-i;e<99?f(s,99-e):(r||n)(n)};return function(){i=a.now(),t||(t=f(s,99))}};!function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in p=n.lazySizesConfig||n.lazysizesConfig||{},t)e in p||(p[e]=t[e]);n.lazySizesConfig=p,f(function(){p.init&&N()})}();var I=(ie=/^img$/i,ne=/^iframe$/i,se="onscroll"in n&&!/glebot/.test(navigator.userAgent),re=-1,le=function(e){oe--,e&&e.target&&k(e.target,le),(!e||oe<0||!e.target)&&(oe=0)},ce=function(e,t){var i,n=e,s="hidden"==T(u.body,"visibility")||"hidden"!=T(e,"visibility");for(D-=t,W+=t,V-=t,U+=t;s&&(n=n.offsetParent)&&n!=u.body&&n!=h;)(s=0<(T(n,"opacity")||1))&&"visible"!=T(n,"overflow")&&(i=n.getBoundingClientRect(),s=U>i.left&&V<i.right&&W>i.top-1&&D<i.bottom+1);return s},$=ue=function(){var e,t,i,n,s,a,o,r,l,c=d.elements;if((F=p.loadMode)&&oe<8&&(e=c.length)){t=0,re++,null==Q&&("expand"in p||(p.expand=500<h.clientHeight&&500<h.clientWidth?500:370),K=p.expand,Q=K*p.expFactor),ae<Q&&oe<1&&2<re&&2<F&&!u.hidden?(ae=Q,re=0):ae=1<F&&1<re&&oe<6?K:0;for(;t<e;t++)if(c[t]&&!c[t]._lazyRace)if(se)if((r=c[t][m]("data-expand"))&&(a=1*r)||(a=ae),l!==a&&(j=innerWidth+a*Y,R=innerHeight+a,o=-1*a,l=a),i=c[t].getBoundingClientRect(),(W=i.bottom)>=o&&(D=i.top)<=R&&(U=i.right)>=o*Y&&(V=i.left)<=j&&(W||U||V||D)&&(p.loadHidden||"hidden"!=T(c[t],"visibility"))&&(q&&oe<3&&!r&&(F<3||re<4)||ce(c[t],a))){if(ye(c[t]),s=!0,9<oe)break}else!s&&q&&!n&&oe<4&&re<4&&2<F&&(z[0]||p.preloadAfterLoad)&&(z[0]||!r&&(W||U||V||D||"auto"!=c[t][m](p.sizesAttr)))&&(n=z[0]||c[t]);else ye(c[t]);n&&!s&&ye(n)}},G=oe=ae=0,J=p.throttleDelay,X=p.ricTimeout,ee=function(){Z=!1,G=a.now(),$()},te=r&&49<X?function(){r(ee,{timeout:X}),X!==p.ricTimeout&&(X=p.ricTimeout)}:e(function(){f(ee)},!0),de=function(e){var t;(e=!0===e)&&(X=33),Z||(Z=!0,(t=J-(a.now()-G))<0&&(t=0),e||t<9?te():f(te,t))},he=e(pe=function(e){b(e.target,p.loadedClass),w(e.target,p.loadingClass),k(e.target,me),C(e.target,"lazyloaded")}),me=function(e){he({target:e.target})},fe=function(e){var t,i=e[m](p.srcsetAttr);(t=p.customMedia[e[m]("data-media")||e[m]("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i)},ge=e(function(e,t,i,n,s){var a,o,r,l,c,u;(c=C(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(i?b(e,p.autosizesClass):e.setAttribute("sizes",n)),o=e[m](p.srcsetAttr),a=e[m](p.srcAttr),s&&(r=e.parentNode,l=r&&g.test(r.nodeName||"")),u=t.firesLoad||"src"in e&&(o||a||l),c={target:e},u&&(k(e,le,!0),clearTimeout(H),H=f(le,2500),b(e,p.loadingClass),k(e,me,!0)),l&&y.call(r.getElementsByTagName("source"),fe),o?e.setAttribute("srcset",o):a&&!l&&(ne.test(e.nodeName)?function(t,i){try{t.contentWindow.location.replace(i)}catch(e){t.src=i}}(e,a):e.src=a),s&&(o||l)&&E(e,{src:a})),e._lazyRace&&delete e._lazyRace,w(e,p.lazyClass),S(function(){(!u||e.complete&&1<e.naturalWidth)&&(u?le(c):oe--,pe(c))},!0)}),ve=function(){if(!q){if(a.now()-B<999)return void f(ve,999);var e=x(function(){p.loadMode=3,de()});q=!0,p.loadMode=3,de(),t("scroll",function(){3==p.loadMode&&(p.loadMode=2),e()},!0)}},{_:function(){B=a.now(),d.elements=u.getElementsByClassName(p.lazyClass),z=u.getElementsByClassName(p.lazyClass+" "+p.preloadClass),Y=p.hFac,t("scroll",de,!0),t("resize",de,!0),n.MutationObserver?new MutationObserver(de).observe(h,{childList:!0,subtree:!0,attributes:!0}):(h[o]("DOMNodeInserted",de,!0),h[o]("DOMAttrModified",de,!0),setInterval(de,999)),t("hashchange",de,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){u[o](e,de,!0)}),/d$|^c/.test(u.readyState)?ve():(t("load",ve),u[o]("DOMContentLoaded",de),f(ve,2e4)),d.elements.length?(ue(),S._lsFlush()):de()},checkElems:de,unveil:ye=function(e){var t,i=ie.test(e.nodeName),n=i&&(e[m](p.sizesAttr)||e[m]("sizes")),s="auto"==n;(!s&&q||!i||!e[m]("src")&&!e.srcset||e.complete||v(e,p.errorClass)||!v(e,p.lazyClass))&&(t=C(e,"lazyunveilread").detail,s&&P.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,oe++,ge(e,t,s,n,i))}}),P=(L=e(function(e,t,i,n){var s,a,o;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),g.test(t.nodeName||""))for(s=t.getElementsByTagName("source"),a=0,o=s.length;a<o;a++)s[a].setAttribute("sizes",n);i.detail.dataAttr||E(e,i.detail)}),_=function(e,t,i){var n,s=e.parentNode;s&&(i=A(e,s,i),(n=C(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=n.detail.width)&&i!==e._lazysizesWidth&&L(e,s,n,i))},{_:function(){M=u.getElementsByClassName(p.autosizesClass),t("resize",O)},checkElems:O=x(function(){var e,t=M.length;if(t)for(e=0;e<t;e++)_(M[e])}),updateElem:_}),N=function(){N.i||(N.i=!0,P._(),I._())};return d={cfg:p,autoSizer:P,loader:I,init:N,uP:E,aC:b,rC:w,hC:v,fire:C,gW:A,rAF:S}}var M,L,_,O;var z,q,H,F,B,j,R,D,V,U,W,K,Q,Y,$,Z,G,J,X,ee,te,ie,ne,se,ae,oe,re,le,ce,ue,de,pe,he,me,fe,ge,ye,ve;var be,we,ke,Ce,Ee,Te,Ae}(e,e.document);e.lazySizes=i,"object"==typeof module&&module.exports&&(module.exports=i)}(window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):e.Plyr=t()}(this,function(){"use strict";var c={html5:"html5",youtube:"youtube",vimeo:"vimeo"},u={audio:"audio",video:"video"},d={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,showPosterOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.1.0-beta.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240,"default"]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:window.navigator.language.split("-")[0]},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime} secs",play:"Play",pause:"Pause",fastForward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",speed:"Speed",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",advertisement:"Ad"},urls:{vimeo:{api:"https://player.vimeo.com/api/player.js"},youtube:{api:"https://www.youtube.com/iframe_api"},googleIMA:{api:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","qualityrequested","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress--buffer",played:".plyr__progress--played",loop:".plyr__progress--loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{video:"plyr__video-wrapper",embed:"plyr__video-embed",ads:"plyr__ads",control:"plyr__control",type:"plyr--{0}",provider:"plyr--{0}",stopped:"plyr--stopped",playing:"plyr--playing",loading:"plyr--loading",error:"plyr--has-error",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus"},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:""}};"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,t,n=(function(e,t){var i;i=function(){var d=function(){},a={},l={},c={};function o(e,t){if(e){var i=c[e];if(l[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function r(e,t){e.call&&(e={success:e}),t.length?(e.error||d)(t):(e.success||d)(e)}function p(i,n,s,a){var o,r,e=document,t=s.async,l=(s.numRetries||0)+1,c=s.before||d,u=i.replace(/^(css|img)!/,"");a=a||0,/(^css!|\.css$)/.test(i)?(o=!0,(r=e.createElement("link")).rel="stylesheet",r.href=u):/(^img!|\.(png|gif|jpg|svg)$)/.test(i)?(r=e.createElement("img")).src=u:((r=e.createElement("script")).src=i,r.async=void 0===t||t),!(r.onload=r.onerror=r.onbeforeload=function(e){var t=e.type[0];if(o&&"hideFocus"in r)try{r.sheet.cssText.length||(t="e")}catch(e){t="e"}if("e"==t&&(a+=1)<l)return p(i,n,s,a);n(i,t,e.defaultPrevented)})!==c(i,r)&&e.head.appendChild(r)}function i(e,t,i){var n,s;if(t&&t.trim&&(n=t),s=(n?i:t)||{},n){if(n in a)throw"LoadJS";a[n]=!0}!function(e,n,t){var i,s,a=(e=e.push?e:[e]).length,o=a,r=[];for(i=function(e,t,i){if("e"==t&&r.push(e),"b"==t){if(!i)return;r.push(e)}--a||n(r)},s=0;s<o;s++)p(e[s],i,t)}(e,function(e){r(s,e),o(n,e)},s)}return i.ready=function(e,t){return function(e,i){e=e.push?e:[e];var t,n,s,a=[],o=e.length,r=o;for(t=function(e,t){t.length&&a.push(e),--r||i(a)};o--;)n=e[o],(s=l[n])?t(n,s):(c[n]=c[n]||[]).push(t)}(e,function(e){r(t,e)}),i},i.done=function(e){o(e,[])},i.reset=function(){a={},l={},c={}},i.isDefined=function(e){return e in a},i},e.exports=i()}(e={exports:{}},e.exports),e.exports),p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),o=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{!n&&r.return&&r.return()}finally{if(s)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},f={is:{plyr:function(e){return this.instanceof(e,window.Plyr)},object:function(e){return this.getConstructor(e)===Object},number:function(e){return this.getConstructor(e)===Number&&!Number.isNaN(e)},string:function(e){return this.getConstructor(e)===String},boolean:function(e){return this.getConstructor(e)===Boolean},function:function(e){return this.getConstructor(e)===Function},array:function(e){return!this.nullOrUndefined(e)&&Array.isArray(e)},weakMap:function(e){return this.instanceof(e,window.WeakMap)},nodeList:function(e){return this.instanceof(e,window.NodeList)},element:function(e){return this.instanceof(e,window.Element)},textNode:function(e){return this.getConstructor(e)===Text},event:function(e){return this.instanceof(e,window.Event)},cue:function(e){return this.instanceof(e,window.TextTrackCue)||this.instanceof(e,window.VTTCue)},track:function(e){return this.instanceof(e,TextTrack)||!this.nullOrUndefined(e)&&this.string(e.kind)},url:function(e){return!this.nullOrUndefined(e)&&/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(e)},nullOrUndefined:function(e){return null==e},empty:function(e){return this.nullOrUndefined(e)||(this.string(e)||this.array(e)||this.nodeList(e))&&!e.length||this.object(e)&&!Object.keys(e).length},instanceof:function(e,t){return Boolean(e&&t&&e instanceof t)},getConstructor:function(e){return this.nullOrUndefined(e)?null:e.constructor}},getBrowser:function(){return{isIE:!!document.documentMode,isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)}},fetch:function(e){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(t,i){try{var n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",function(){if("text"===s)try{t(JSON.parse(n.responseText))}catch(e){t(n.responseText)}else t(n.response)}),n.addEventListener("error",function(){throw new Error(n.statusText)}),n.open("GET",e,!0),n.responseType=s,n.send()}catch(e){i(e)}})},loadScript:function(i){return new Promise(function(e,t){n(i,{success:e,error:t})})},loadSprite:function(e,t){if(f.is.string(e)){var i=f.is.string(t),n=function(){return document.querySelectorAll("#"+t).length};if(!i||!n()){var s=document.createElement("div");if(f.toggleHidden(s,!0),i&&s.setAttribute("id",t),m.storage){var a=window.localStorage.getItem("cache-"+t);if(null!==a){var o=JSON.parse(a);return void r.call(s,o.content)}}f.fetch(e).then(function(e){f.is.empty(e)||(m.storage&&window.localStorage.setItem("cache-"+t,JSON.stringify({content:e})),r.call(s,e))}).catch(function(){})}}function r(e){i&&n()||(this.innerHTML=e,document.body.insertBefore(this,document.body.childNodes[0]))}},generateId:function(e){return e+"-"+Math.floor(1e4*Math.random())},wrap:function(e,a){var t=e.length?e:[e];Array.from(t).reverse().forEach(function(e,t){var i=0<t?a.cloneNode(!0):a,n=e.parentNode,s=e.nextSibling;i.appendChild(e),s?n.insertBefore(i,s):n.appendChild(i)})},createElement:function(e,t,i){var n=document.createElement(e);return f.is.object(t)&&f.setAttributes(n,t),f.is.string(i)&&(n.textContent=i),n},insertAfter:function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},insertElement:function(e,t,i,n){t.appendChild(f.createElement(e,i,n))},removeElement:function(e){f.is.element(e)&&f.is.element(e.parentNode)&&(f.is.nodeList(e)||f.is.array(e)?Array.from(e).forEach(f.removeElement):e.parentNode.removeChild(e))},emptyElement:function(e){for(var t=e.childNodes.length;0<t;)e.removeChild(e.lastChild),t-=1},replaceElement:function(e,t){return f.is.element(t)&&f.is.element(t.parentNode)&&f.is.element(e)?(t.parentNode.replaceChild(e,t),e):null},setAttributes:function(s,e){f.is.element(s)&&!f.is.empty(e)&&Object.entries(e).forEach(function(e){var t=r(e,2),i=t[0],n=t[1];s.setAttribute(i,n)})},getAttributesFromSelector:function(e,t){if(!f.is.string(e)||f.is.empty(e))return{};var o={},r=t;return e.split(",").forEach(function(e){var t=e.trim(),i=t.replace(".",""),n=t.replace(/[[\]]/g,"").split("="),s=n[0],a=1<n.length?n[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":f.is.object(r)&&f.is.string(r.class)&&(r.class+=" "+i),o.class=i;break;case"#":o.id=t.replace("#","");break;case"[":o[s]=a}}),o},toggleClass:function(e,t,i){if(f.is.element(e)){var n=e.classList.contains(t);return e.classList[i?"add":"remove"](t),i&&!n||!i&&n}return null},hasClass:function(e,t){return f.is.element(e)&&e.classList.contains(t)},toggleHidden:function(e,t){f.is.element(e)&&(t?e.setAttribute("hidden",""):e.removeAttribute("hidden"))},matches:function(e,t){var i={Element:Element};var n=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)};return n.call(e,t)},getElements:function(e){return this.elements.container.querySelectorAll(e)},getElement:function(e){return this.elements.container.querySelector(e)},findElements:function(){try{return this.elements.controls=f.getElement.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:f.getElements.call(this,this.config.selectors.buttons.play),pause:f.getElement.call(this,this.config.selectors.buttons.pause),restart:f.getElement.call(this,this.config.selectors.buttons.restart),rewind:f.getElement.call(this,this.config.selectors.buttons.rewind),fastForward:f.getElement.call(this,this.config.selectors.buttons.fastForward),mute:f.getElement.call(this,this.config.selectors.buttons.mute),pip:f.getElement.call(this,this.config.selectors.buttons.pip),airplay:f.getElement.call(this,this.config.selectors.buttons.airplay),settings:f.getElement.call(this,this.config.selectors.buttons.settings),captions:f.getElement.call(this,this.config.selectors.buttons.captions),fullscreen:f.getElement.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=f.getElement.call(this,this.config.selectors.progress),this.elements.inputs={seek:f.getElement.call(this,this.config.selectors.inputs.seek),volume:f.getElement.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:f.getElement.call(this,this.config.selectors.display.buffer),duration:f.getElement.call(this,this.config.selectors.display.duration),currentTime:f.getElement.call(this,this.config.selectors.display.currentTime)},f.is.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector("."+this.config.classNames.tooltip)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},getFocusElement:function(){var e=document.activeElement;return e=e&&e!==document.body?document.querySelector(":focus"):null},trapFocus:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(f.is.element(e)){var i=f.getElements.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),n=i[0],s=i[i.length-1],a=function(e){if("Tab"===e.key&&9===e.keyCode){var t=f.getFocusElement();t!==s||e.shiftKey?t===n&&e.shiftKey&&(s.focus(),e.preventDefault()):(n.focus(),e.preventDefault())}};t?f.on(this.elements.container,"keydown",a,!1):f.off(this.elements.container,"keydown",a,!1)}},toggleListener:function(t,i,n){var s=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(!f.is.empty(t)&&!f.is.empty(i)&&f.is.function(n))if(f.is.nodeList(t)||f.is.array(t))Array.from(t).forEach(function(e){e instanceof Node&&f.toggleListener.call(null,e,i,n,s,a,o)});else{var e=i.split(" "),r=o;m.passiveListeners&&(r={passive:a,capture:o}),e.forEach(function(e){t[s?"addEventListener":"removeEventListener"](e,n,r)})}},on:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=arguments[2],n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],s=4<arguments.length&&void 0!==arguments[4]&&arguments[4];f.toggleListener(e,t,i,!0,n,s)},off:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=arguments[2],n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],s=4<arguments.length&&void 0!==arguments[4]&&arguments[4];f.toggleListener(e,t,i,!1,n,s)},dispatchEvent:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(f.is.element(e)&&!f.is.empty(t)){var s=new CustomEvent(t,{bubbles:i,detail:Object.assign({},n,{plyr:f.is.plyr(this)?this:null})});e.dispatchEvent(s)}},toggleState:function(e,t){if(f.is.array(e)||f.is.nodeList(e))Array.from(e).forEach(function(e){return f.toggleState(e,t)});else if(f.is.element(e)){var i="true"===e.getAttribute("aria-pressed"),n=f.is.boolean(t)?t:!i;e.setAttribute("aria-pressed",n)}},getPercentage:function(e,t){return 0===e||0===t||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)},getHours:function(e){return parseInt(e/60/60%60,10)},getMinutes:function(e){return parseInt(e/60%60,10)},getSeconds:function(e){return parseInt(e%60,10)},formatTime:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!f.is.number(e))return this.formatTime(null,t,i);var n=function(e){return("0"+e).slice(-2)},s=this.getHours(e),a=this.getMinutes(e),o=this.getSeconds(e);return t||0<s?s+=":":s="",(i?"-":"")+s+n(a)+":"+n(o)},replaceAll:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString())},toTitleCase:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},toPascalCase:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString();return e=f.replaceAll(e,"-"," "),e=f.replaceAll(e,"_"," "),e=f.toTitleCase(e),f.replaceAll(e," ","")},toCamelCase:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString();return(e=f.toPascalCase(e)).charAt(0).toLowerCase()+e.slice(1)},extend:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length)return t;var s=i.shift();return f.is.object(s)?(Object.keys(s).forEach(function(e){f.is.object(s[e])?(Object.keys(t).includes(e)||Object.assign(t,o({},e,{})),f.extend(t[e],s[e])):Object.assign(t,o({},e,s[e]))}),f.extend.apply(f,[t].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(i)))):t},dedupe:function(i){return f.is.array(i)?i.filter(function(e,t){return i.indexOf(e)===t}):i},closest:function(e,i){return f.is.array(e)&&e.length?e.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}):null},getProviderByUrl:function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(e)?c.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{8,}(?=\b|\/)/.test(e)?c.vimeo:null},parseYouTubeId:function(e){if(f.is.empty(e))return null;return e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e},parseVimeoId:function(e){if(f.is.empty(e))return null;if(f.is.number(Number(e)))return e;return e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e},parseUrl:function(e){var t=document.createElement("a");return t.href=e,t},getUrlParams:function(e){var t=e;(e.startsWith("http://")||e.startsWith("https://"))&&(t=this.parseUrl(e).search);return this.is.empty(t)?null:t.slice(t.indexOf("?")+1).split("&").reduce(function(e,t){var i=t.split("="),n=r(i,2),s=n[0],a=n[1];return Object.assign(e,o({},s,decodeURIComponent(a)))},{})},buildUrlParams:function(t){return f.is.object(t)?Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"):""},stripHTML:function(e){var t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText},getAspectRatio:function(e,t){var i=function e(t,i){return 0===i?t:e(i,t%i)}(e,t);return e/i+":"+t/i},get transitionEndEvent(){var t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(e).find(function(e){return void 0!==t.style[e]});return!!f.is.string(i)&&e[i]},repaint:function(e){setTimeout(function(){f.toggleHidden(e,!0),e.offsetHeight,f.toggleHidden(e,!1)},0)}},m={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,i){var n=!1,s=!1,a=f.getBrowser(),o=a.isIPhone&&i&&m.inline;switch(t+":"+e){case"html5:video":s=(n=m.video)&&m.rangeInput&&(!a.isIPhone||o);break;case"html5:audio":s=(n=m.audio)&&m.rangeInput;break;case"youtube:video":case"vimeo:video":n=!0,s=m.rangeInput&&(!a.isIPhone||o);break;default:s=(n=m.audio&&m.video)&&m.rangeInput}return{api:n,ui:s}},pip:!f.getBrowser().isIPhone&&f.is.function(f.createElement("video").webkitSetPresentationMode),airplay:f.is.function(window.WebKitPlaybackTargetAvailabilityEvent),inline:"playsInline"in document.createElement("video"),mime:function(e){var t=this.media;try{if(!this.isHTML5||!f.is.function(t.canPlayType))return!1;if(e.includes("codecs="))return t.canPlayType(e).replace(/no/,"");if(this.isVideo)switch(e){case"video/webm":return t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,"");case"video/mp4":return t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"");case"video/ogg":return t.canPlayType('video/ogg; codecs="theora"').replace(/no/,"");default:return!1}else if(this.isAudio)switch(e){case"audio/mpeg":return t.canPlayType("audio/mpeg;").replace(/no/,"");case"audio/ogg":return t.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"");case"audio/wav":return t.canPlayType('audio/wav; codecs="1"').replace(/no/,"");default:return!1}}catch(e){return!1}return!1},textTracks:"textTracks"in document.createElement("video"),passiveListeners:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t)}catch(e){}return e}(),rangeInput:(t=document.createElement("input"),(t.type="range")===t.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==f.transitionEndEvent,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},i=function(){},h=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];p(this,t),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}return s(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):i}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):i}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):i}}]),t}(),a=f.getBrowser();function l(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;f.is.element(e)&&f.toggleState(e,this.active),f.dispatchEvent(this.target,this.active?"enterfullscreen":"exitfullscreen",!0),a.isIos||f.trapFocus.call(this.player,this.target,this.active)}}function g(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",f.toggleClass(this.target,this.player.config.classNames.fullscreen.fallback,e),l.call(this)}var y=function(){function i(e){var t=this;p(this,i),this.player=e,this.prefix=i.prefix,this.name=i.name,this.scrollPosition={x:0,y:0},f.on(document,"ms"===this.prefix?"MSFullscreenChange":this.prefix+"fullscreenchange",function(){l.call(t)}),f.on(this.player.elements.container,"dblclick",function(e){t.player.elements.controls.contains(e.target)||t.toggle()}),this.update()}return s(i,[{key:"update",value:function(){this.enabled?this.player.debug.log((i.native?"Native":"Fallback")+" fullscreen enabled"):this.player.debug.log("Fullscreen not supported and fallback disabled"),f.toggleClass(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(a.isIos&&this.player.config.fullscreen.iosNative?this.player.playing&&this.target.webkitEnterFullscreen():i.native?this.prefix?f.is.empty(this.prefix)||this.target[this.prefix+"Request"+this.name]():this.target.requestFullscreen():g.call(this,!0))}},{key:"exit",value:function(){if(this.enabled)if(a.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(i.native)if(this.prefix){if(!f.is.empty(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document[""+this.prefix+e+this.name]()}}else document.cancelFullScreen();else g.call(this,!1)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"enabled",get:function(){return(i.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(i.native?(this.prefix?document[""+this.prefix+this.name+"Element"]:document.fullscreenElement)===this.target:f.hasClass(this.target,this.player.config.classNames.fullscreen.fallback))}},{key:"target",get:function(){return a.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(f.is.function(document.exitFullscreen))return!1;var t="";return["webkit","moz","ms"].some(function(e){return!(!f.is.function(document[e+"ExitFullscreen"])&&!f.is.function(document[e+"CancelFullScreen"]))&&(t=e,!0)}),t}},{key:"name",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),i}(),v={setup:function(){if(this.supported.ui){var e=this.storage.get("language");if(f.is.empty(e)||(this.captions.language=e),f.is.empty(this.captions.language)&&(this.captions.language=this.config.captions.language.toLowerCase()),!f.is.boolean(this.captions.active)){var t=this.storage.get("captions");f.is.boolean(t)?this.captions.active=t:this.captions.active=this.config.captions.active}if(!this.isVideo||this.isYouTube||this.isHTML5&&!m.textTracks)f.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&E.setCaptionsMenu.call(this);else{f.is.element(this.elements.captions)||(this.elements.captions=f.createElement("div",f.getAttributesFromSelector(this.config.selectors.captions)),f.insertAfter(this.elements.captions,this.elements.wrapper)),f.toggleClass(this.elements.container,this.config.classNames.captions.enabled,!f.is.empty(v.getTracks.call(this)));var i=v.getTracks.call(this);if(!f.is.empty(i)){if(f.getBrowser().isIE&&window.URL){var n=this.media.querySelectorAll("track");Array.from(n).forEach(function(t){var e=t.getAttribute("src"),i=f.parseUrl(e);i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&f.fetch(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))}).catch(function(){f.removeElement(t)})})}v.setLanguage.call(this),v.show.call(this),f.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&E.setCaptionsMenu.call(this)}}}},setLanguage:function(){var t=this;if(this.isHTML5&&this.isVideo){v.getTracks.call(this).forEach(function(e){f.on(e,"cuechange",function(e){return v.setCue.call(t,e)}),e.mode="hidden"});var e=v.getCurrentTrack.call(this);f.is.track(e)&&Array.from(e.activeCues||[]).length&&v.setCue.call(this,e)}else this.isVimeo&&this.captions.active&&this.embed.enableTextTrack(this.language)},getTracks:function(){return f.is.nullOrUndefined(this.media)?[]:Array.from(this.media.textTracks||[]).filter(function(e){return["captions","subtitles"].includes(e.kind)})},getCurrentTrack:function(){var t=this;return v.getTracks.call(this).find(function(e){return e.language.toLowerCase()===t.language})},setCue:function(e){var t=f.is.event(e)?e.target:e,i=t.activeCues,n=i.length&&i[0];t===v.getCurrentTrack.call(this)&&(f.is.cue(n)?v.setText.call(this,n.getCueAsHTML()):v.setText.call(this,null),f.dispatchEvent.call(this,this.media,"cuechange"))},setText:function(e){if(this.supported.ui)if(f.is.element(this.elements.captions)){var t=f.createElement("span");f.emptyElement(this.elements.captions);var i=f.is.nullOrUndefined(e)?"":e;f.is.string(i)?t.textContent=i.trim():t.appendChild(i),this.elements.captions.appendChild(t)}else this.debug.warn("No captions element to render to")},show:function(){if(f.is.element(this.elements.buttons.captions)){var e=this.storage.get("captions");f.is.boolean(e)?this.captions.active=e:e=this.config.captions.active,e&&(f.toggleClass(this.elements.container,this.config.classNames.captions.active,!0),f.toggleState(this.elements.buttons.captions,!0))}}},b=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(f.is.empty(e)||f.is.empty(t)||!Object.keys(t.i18n).includes(e))return"";var s=t.i18n[e],i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach(function(e){var t=r(e,2),i=t[0],n=t[1];s=f.replaceAll(s,i,n)}),s},w={addStyleHook:function(){f.toggleClass(this.elements.container,this.config.selectors.container.replace(".",""),!0),f.toggleClass(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for "+this.provider+" "+this.type),void w.toggleNativeControls.call(this,!0);f.is.element(this.elements.controls)||(E.inject.call(this),this.listeners.controls()),f.is.element(this.elements.controls)&&(w.toggleNativeControls.call(this),v.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.quality=null,w.updateVolume.call(this),w.timeUpdate.call(this),w.checkPlaying.call(this),this.ready=!0,setTimeout(function(){f.dispatchEvent.call(e,e.media,"ready")},0),w.setTitle.call(this))},setTitle:function(){var t=b("play",this.config);if(f.is.string(this.config.title)&&!f.is.empty(this.config.title)&&(t+=", "+this.config.title,this.elements.container.setAttribute("aria-label",this.config.title)),f.is.nodeList(this.elements.buttons.play)&&Array.from(this.elements.buttons.play).forEach(function(e){e.setAttribute("aria-label",t)}),this.isEmbed){var e=f.getElement.call(this,"iframe");if(!f.is.element(e))return;f.is.empty(this.config.title)||this.config.title;e.setAttribute("title",b("frameTitle",this.config))}},checkPlaying:function(){f.toggleClass(this.elements.container,this.config.classNames.playing,this.playing),f.toggleClass(this.elements.container,this.config.classNames.stopped,this.paused),f.toggleState(this.elements.buttons.play,this.playing),this.toggleControls(!this.playing)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){f.toggleClass(t.elements.container,t.config.classNames.loading,t.loading),t.toggleControls(t.loading)},this.loading?250:0)},checkFailed:function(){var e=this;this.failed=3===this.media.networkState,this.failed&&(f.toggleClass(this.elements.container,this.config.classNames.loading,!1),f.toggleClass(this.elements.container,this.config.classNames.error,!0)),clearTimeout(this.timers.failed),this.timers.loading=setTimeout(function(){f.toggleClass(e.elements.container,e.config.classNames.loading,e.loading),e.toggleControls(e.loading)},this.loading?250:0)},updateVolume:function(){this.supported.ui&&(f.is.element(this.elements.inputs.volume)&&w.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),f.is.element(this.elements.buttons.mute)&&f.toggleState(this.elements.buttons.mute,this.muted||0===this.volume))},setRange:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;f.is.element(e)&&(e.value=t,E.updateRangeFill.call(this,e))},setProgress:function(e,t){var i=f.is.number(t)?t:0,n=f.is.element(e)?e:this.elements.display.buffer;if(f.is.element(n)){n.value=i;var s=n.getElementsByTagName("span")[0];f.is.element(s)&&(s.childNodes[0].nodeValue=i)}},updateProgress:function(e){if(this.supported.ui&&f.is.event(e)){var t=0;if(e)switch(e.type){case"timeupdate":case"seeking":t=f.getPercentage(this.currentTime,this.duration),"timeupdate"===e.type&&w.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":w.setProgress.call(this,this.elements.display.buffer,100*this.buffered)}}},updateTimeDisplay:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(f.is.element(e)&&f.is.number(t)){var n=0<f.getHours(this.duration);e.textContent=f.formatTime(t,n,i)}},timeUpdate:function(e){var t=!f.is.element(this.elements.display.duration)&&this.config.invertTime;w.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||w.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui){var e=f.is.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&w.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&w.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),E.updateSeekTooltip.call(this)}}},k={getSources:function(){return this.isHTML5?this.media.querySelectorAll("source"):null},getQualityOptions:function(){if(!this.isHTML5)return null;var e=k.getSources.call(this);if(f.is.empty(e))return null;var t=Array.from(e).filter(function(e){return!f.is.empty(e.getAttribute("size"))});return f.is.empty(t)?null:f.dedupe(t.map(function(e){return Number(e.getAttribute("size"))}))},extend:function(){if(this.isHTML5){var o=this;Object.defineProperty(o.media,"quality",{get:function(){var e=k.getSources.call(o);if(f.is.empty(e))return null;var t=Array.from(e).filter(function(e){return e.getAttribute("src")===o.source});return f.is.empty(t)?null:Number(t[0].getAttribute("size"))},set:function(t){var e=k.getSources.call(o);if(!f.is.empty(e)){var i=Array.from(e).filter(function(e){return Number(e.getAttribute("size"))===t});if(!f.is.empty(i)){var n=i.filter(function(e){return m.mime.call(o,e.getAttribute("type"))});if(!f.is.empty(n)){f.dispatchEvent.call(o,o.media,"qualityrequested",!1,{quality:t});var s=o.currentTime,a=o.playing;o.media.src=n[0].getAttribute("src"),o.media.load(),a&&o.play(),o.currentTime=s,f.dispatchEvent.call(o,o.media,"qualitychange",!1,{quality:t})}}}}})}},cancelRequests:function(){this.isHTML5&&(f.removeElement(k.getSources()),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},C=f.getBrowser(),E={updateRangeFill:function(e){if(C.isWebkit){var t=f.is.event(e)?e.target:e;f.is.element(t)&&"range"===t.getAttribute("type")&&t.style.setProperty("--value",t.value/t.max*100+"%")}},getIconUrl:function(){return{url:this.config.iconUrl,absolute:0===this.config.iconUrl.indexOf("http")||C.isIE&&!window.svg4everybody}},createIcon:function(e,t){var i="http://www.w3.org/2000/svg",n=E.getIconUrl.call(this),s=(n.absolute?"":n.url)+"#"+this.config.iconPrefix,a=document.createElementNS(i,"svg");f.setAttributes(a,f.extend(t,{role:"presentation"}));var o=document.createElementNS(i,"use"),r=s+"-"+e;return"href"in o?o.setAttributeNS("http://www.w3.org/1999/xlink","href",r):o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r),a.appendChild(o),a},createLabel:function(e,t){var i=b(e,this.config),n=Object.assign({},t);switch(e){case"pip":i="PIP";break;case"airplay":i="AirPlay"}return"class"in n?n.class+=" "+this.config.classNames.hidden:n.class=this.config.classNames.hidden,f.createElement("span",n,i)},createBadge:function(e){if(f.is.empty(e))return null;var t=f.createElement("span",{class:this.config.classNames.menu.value});return t.appendChild(f.createElement("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var i=f.createElement("button"),n=Object.assign({},t),s=f.toCamelCase(e),a=!1,o=void 0,r=void 0,l=void 0,c=void 0;switch("type"in n||(n.type="button"),"class"in n?n.class.includes(this.config.classNames.control)&&(n.class+=" "+this.config.classNames.control):n.class=this.config.classNames.control,e){case"play":a=!0,r=o="play",c=l="pause";break;case"mute":a=!0,o="mute",l="unmute",r="volume",c="muted";break;case"captions":a=!0,o="enableCaptions",l="disableCaptions",r="captions-off",c="captions-on";break;case"fullscreen":a=!0,o="enterFullscreen",l="exitFullscreen",r="enter-fullscreen",c="exit-fullscreen";break;case"play-large":n.class+=" "+this.config.classNames.control+"--overlaid",r=o=s="play";break;default:o=s,r=e}return a?(i.appendChild(E.createIcon.call(this,c,{class:"icon--pressed"})),i.appendChild(E.createIcon.call(this,r,{class:"icon--not-pressed"})),i.appendChild(E.createLabel.call(this,l,{class:"label--pressed"})),i.appendChild(E.createLabel.call(this,o,{class:"label--not-pressed"})),n["aria-pressed"]=!1,n["aria-label"]=b(o,this.config)):(i.appendChild(E.createIcon.call(this,r)),i.appendChild(E.createLabel.call(this,o))),f.extend(n,f.getAttributesFromSelector(this.config.selectors.buttons[s],n)),f.setAttributes(i,n),"play"===s?(f.is.array(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(i)):this.elements.buttons[s]=i,i},createRange:function(e,t){var i=f.createElement("label",{for:t.id,class:this.config.classNames.hidden},b(e,this.config)),n=f.createElement("input",f.extend(f.getAttributesFromSelector(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off"},t));return this.elements.inputs[e]=n,E.updateRangeFill.call(this,n),{label:i,input:n}},createProgress:function(e,t){var i=f.createElement("progress",f.extend(f.getAttributesFromSelector(this.config.selectors.display[e]),{min:0,max:100,value:0},t));if("volume"!==e){i.appendChild(f.createElement("span",null,"0"));var n="";switch(e){case"played":n=b("played",this.config);break;case"buffer":n=b("buffered",this.config)}i.textContent="% "+n.toLowerCase()}return this.elements.display[e]=i},createTime:function(e){var t=f.createElement("div",{class:"plyr__time"});return t.appendChild(f.createElement("span",{class:this.config.classNames.hidden},b(e,this.config))),t.appendChild(f.createElement("span",f.getAttributesFromSelector(this.config.selectors.display[e]),"00:00")),this.elements.display[e]=t},createMenuItem:function(e,t,i,n){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,a=5<arguments.length&&void 0!==arguments[5]&&arguments[5],o=f.createElement("li"),r=f.createElement("label",{class:this.config.classNames.control}),l=f.createElement("input",f.extend(f.getAttributesFromSelector(this.config.selectors.inputs[i]),{type:"radio",name:"plyr-"+i,value:e,checked:a,class:"plyr__sr-only"})),c=f.createElement("span",{"aria-hidden":!0});r.appendChild(l),r.appendChild(c),r.insertAdjacentHTML("beforeend",n),f.is.element(s)&&r.appendChild(s),o.appendChild(r),t.appendChild(o)},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&f.is.element(this.elements.inputs.seek)&&f.is.element(this.elements.display.seekTooltip)&&0!==this.duration){var i=0,n=this.elements.inputs.seek.getBoundingClientRect(),s=this.config.classNames.tooltip+"--visible",a=function(e){f.toggleClass(t.elements.display.seekTooltip,s,e)};if(this.touch)a(!1);else{if(f.is.event(e))i=100/n.width*(e.pageX-n.left);else{if(!f.hasClass(this.elements.display.seekTooltip,s))return;i=parseFloat(this.elements.display.seekTooltip.style.left,10)}i<0?i=0:100<i&&(i=100),w.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*i),this.elements.display.seekTooltip.style.left=i+"%",f.is.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)}}},toggleTab:function(e,t){var i=this.elements.settings.tabs[e],n=this.elements.settings.panes[e];f.toggleHidden(i,!t),f.toggleHidden(n,!t)},setQualityMenu:function(e){var n=this;if(f.is.element(this.elements.settings.panes.quality)){var i="quality",s=this.elements.settings.panes.quality.querySelector("ul");f.is.array(e)&&(this.options.quality=e.filter(function(e){return n.config.quality.options.includes(e)}));var t=!f.is.empty(this.options.quality)&&1<this.options.quality.length;if(E.toggleTab.call(this,i,t),t){f.emptyElement(s);this.options.quality.sort(function(e,t){var i=n.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1}).forEach(function(e){var t=E.getLabel.call(n,"quality",e);E.createMenuItem.call(n,e,s,i,t,function(e){var t="";switch(e){case 2160:t="4K";break;case 1440:case 1080:case 720:t="HD";break;case 576:t="SD"}return t.length?E.createBadge.call(n,t):null}(e))}),E.updateSetting.call(this,i,s)}}},getLabel:function(e,t){switch(e){case"speed":return 1===t?"Normal":t+"&times;";case"quality":return f.is.number(t)?t+"p":f.toTitleCase(t);case"captions":return E.getLanguage.call(this);default:return null}},updateSetting:function(e,t,i){var n=this.elements.settings.panes[e],s=null,a=t;switch(e){case"captions":s=this.captions.active?this.captions.language:b("disabled",this.config);break;default:if(s=f.is.empty(i)?this[e]:i,f.is.empty(s)&&(s=this.config[e].default),!f.is.empty(this.options[e])&&!this.options[e].includes(s))return void this.debug.warn("Unsupported value of '"+s+"' for "+e);if(!this.config[e].options.includes(s))return void this.debug.warn("Disabled value of '"+s+"' for "+e)}(f.is.element(a)||(a=n&&n.querySelector("ul")),f.is.empty(s))||(this.elements.settings.tabs[e].querySelector("."+this.config.classNames.menu.value).innerHTML=E.getLabel.call(this,e,s));var o=a&&a.querySelector('input[value="'+s+'"]');f.is.element(o)&&(o.checked=!0)},getLanguage:function(){if(!this.supported.ui)return null;if(m.textTracks&&v.getTracks.call(this).length&&this.captions.active){var e=v.getCurrentTrack.call(this);if(f.is.track(e))return e.label}return b("disabled",this.config)},setCaptionsMenu:function(){var t=this,e="captions",i=this.elements.settings.panes.captions.querySelector("ul"),n=v.getTracks.call(this).length;if(E.toggleTab.call(this,e,n),f.emptyElement(i),n){var s=v.getTracks.call(this).map(function(e){return{language:e.language,label:f.is.empty(e.label)?e.language.toUpperCase():e.label}});s.unshift({language:"",label:b("disabled",this.config)}),s.forEach(function(e){E.createMenuItem.call(t,e.language,i,"language",e.label||e.language,E.createBadge.call(t,e.language.toUpperCase()),e.language.toLowerCase()===t.captions.language.toLowerCase())}),E.updateSetting.call(this,e,i)}},setSpeedMenu:function(e){var i=this;if(this.config.controls.includes("settings")&&this.config.settings.includes("speed")&&f.is.element(this.elements.settings.panes.speed)){var n="speed";f.is.array(e)?this.options.speed=e:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(e){return i.config.speed.options.includes(e)});var t=!f.is.empty(this.options.speed)&&1<this.options.speed.length;if(E.toggleTab.call(this,n,t),E.checkMenu.call(this),t){var s=this.elements.settings.panes.speed.querySelector("ul");f.toggleHidden(this.elements.settings.tabs.speed,!1),f.toggleHidden(this.elements.settings.panes.speed,!1),f.emptyElement(s),this.options.speed.forEach(function(e){var t=E.getLabel.call(i,"speed",e);E.createMenuItem.call(i,e,s,n,t)}),E.updateSetting.call(this,n,s)}}},checkMenu:function(){var e=this.elements.settings.tabs,t=!f.is.empty(e)&&Object.values(e).some(function(e){return!e.hidden});f.toggleHidden(this.elements.settings.menu,!t)},toggleMenu:function(e){var t=this.elements.settings.form,i=this.elements.buttons.settings;if(f.is.element(t)&&f.is.element(i)){var n=f.is.boolean(e)?e:f.is.element(t)&&"true"===t.getAttribute("aria-hidden");if(f.is.event(e)){var s=f.is.element(t)&&t.contains(e.target),a=e.target===this.elements.buttons.settings;if(s||!s&&!a&&n)return;a&&e.stopPropagation()}f.is.element(i)&&i.setAttribute("aria-expanded",n),f.is.element(t)&&(t.setAttribute("aria-hidden",!n),f.toggleClass(this.elements.container,this.config.classNames.menu.open,n),n?t.removeAttribute("tabindex"):t.setAttribute("tabindex",-1))}},getTabSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.setAttribute("aria-hidden",!1),Array.from(t.querySelectorAll("input[name]")).forEach(function(e){var t=e.getAttribute("name");e.setAttribute("name",t+"-clone")}),e.parentNode.appendChild(t);var i=t.scrollWidth,n=t.scrollHeight;return f.removeElement(t),{width:i,height:n}},showTab:function(e){var t=this.elements.settings.menu,i=e.target,n="false"===i.getAttribute("aria-expanded"),s=document.getElementById(i.getAttribute("aria-controls"));if(f.is.element(s)&&"tabpanel"===s.getAttribute("role")){var a=t.querySelector('[role="tabpanel"][aria-hidden="false"]'),o=a.parentNode;if(Array.from(t.querySelectorAll('[aria-controls="'+a.getAttribute("id")+'"]')).forEach(function(e){e.setAttribute("aria-expanded",!1)}),m.transitions&&!m.reducedMotion){o.style.width=a.scrollWidth+"px",o.style.height=a.scrollHeight+"px";var r=E.getTabSize.call(this,s);f.on(o,f.transitionEndEvent,function e(t){t.target===o&&["width","height"].includes(t.propertyName)&&(o.style.width="",o.style.height="",f.off(o,f.transitionEndEvent,e))}),o.style.width=r.width+"px",o.style.height=r.height+"px"}a.setAttribute("aria-hidden",!0),a.setAttribute("tabindex",-1),s.setAttribute("aria-hidden",!n),i.setAttribute("aria-expanded",n),s.removeAttribute("tabindex"),s.querySelectorAll("button:not(:disabled), input:not(:disabled), [tabindex]")[0].focus()}},create:function(s){var a=this;if(f.is.empty(this.config.controls))return null;var e=f.createElement("div",f.getAttributesFromSelector(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&e.appendChild(E.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&e.appendChild(E.createButton.call(this,"rewind")),this.config.controls.includes("play")&&e.appendChild(E.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&e.appendChild(E.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var t=f.createElement("div",f.getAttributesFromSelector(this.config.selectors.progress)),i=E.createRange.call(this,"seek",{id:"plyr-seek-"+s.id});if(t.appendChild(i.label),t.appendChild(i.input),t.appendChild(E.createProgress.call(this,"buffer")),this.config.tooltips.seek){var n=f.createElement("span",{role:"tooltip",class:this.config.classNames.tooltip},"00:00");t.appendChild(n),this.elements.display.seekTooltip=n}this.elements.progress=t,e.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&e.appendChild(E.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&e.appendChild(E.createTime.call(this,"duration")),this.config.controls.includes("mute")&&e.appendChild(E.createButton.call(this,"mute")),this.config.controls.includes("volume")){var o=f.createElement("div",{class:"plyr__volume"}),r={max:1,step:.05,value:this.config.volume},l=E.createRange.call(this,"volume",f.extend(r,{id:"plyr-volume-"+s.id}));o.appendChild(l.label),o.appendChild(l.input),this.elements.volume=o,e.appendChild(o)}if(this.config.controls.includes("captions")&&e.appendChild(E.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!f.is.empty(this.config.settings)){var c=f.createElement("div",{class:"plyr__menu",hidden:""});c.appendChild(E.createButton.call(this,"settings",{id:"plyr-settings-toggle-"+s.id,"aria-haspopup":!0,"aria-controls":"plyr-settings-"+s.id,"aria-expanded":!1}));var u=f.createElement("form",{class:"plyr__menu__container",id:"plyr-settings-"+s.id,"aria-hidden":!0,"aria-labelled-by":"plyr-settings-toggle-"+s.id,role:"tablist",tabindex:-1}),d=f.createElement("div"),p=f.createElement("div",{id:"plyr-settings-"+s.id+"-home","aria-hidden":!1,"aria-labelled-by":"plyr-settings-toggle-"+s.id,role:"tabpanel"}),h=f.createElement("ul",{role:"tablist"});this.config.settings.forEach(function(e){var t=f.createElement("li",{role:"tab",hidden:""}),i=f.createElement("button",f.extend(f.getAttributesFromSelector(a.config.selectors.buttons.settings),{type:"button",class:a.config.classNames.control+" "+a.config.classNames.control+"--forward",id:"plyr-settings-"+s.id+"-"+e+"-tab","aria-haspopup":!0,"aria-controls":"plyr-settings-"+s.id+"-"+e,"aria-expanded":!1}),b(e,a.config)),n=f.createElement("span",{class:a.config.classNames.menu.value});n.innerHTML=s[e],i.appendChild(n),t.appendChild(i),h.appendChild(t),a.elements.settings.tabs[e]=t}),p.appendChild(h),d.appendChild(p),this.config.settings.forEach(function(e){var t=f.createElement("div",{id:"plyr-settings-"+s.id+"-"+e,"aria-hidden":!0,"aria-labelled-by":"plyr-settings-"+s.id+"-"+e+"-tab",role:"tabpanel",tabindex:-1,hidden:""}),i=f.createElement("button",{type:"button",class:a.config.classNames.control+" "+a.config.classNames.control+"--back","aria-haspopup":!0,"aria-controls":"plyr-settings-"+s.id+"-home","aria-expanded":!1},b(e,a.config));t.appendChild(i);var n=f.createElement("ul");t.appendChild(n),d.appendChild(t),a.elements.settings.panes[e]=t}),u.appendChild(d),c.appendChild(u),e.appendChild(c),this.elements.settings.form=u,this.elements.settings.menu=c}return this.config.controls.includes("pip")&&m.pip&&e.appendChild(E.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&m.airplay&&e.appendChild(E.createButton.call(this,"airplay")),this.config.controls.includes("fullscreen")&&e.appendChild(E.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(E.createButton.call(this,"play-large")),this.elements.controls=e,this.isHTML5&&E.setQualityMenu.call(this,k.getQualityOptions.call(this)),E.setSpeedMenu.call(this),e},inject:function(){var t=this;if(this.config.loadSprite){var e=E.getIconUrl.call(this);e.absolute&&f.loadSprite(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var i=null;this.elements.controls=null,i=f.is.string(this.config.controls)||f.is.element(this.config.controls)?this.config.controls:f.is.function(this.config.controls)?this.config.controls({id:this.id,seektime:this.config.seekTime,title:this.config.title}):E.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:E.getLanguage.call(this)});var n=void 0;if(f.is.string(this.config.selectors.controls.container)&&(n=document.querySelector(this.config.selectors.controls.container)),f.is.element(n)||(n=this.elements.container),f.is.element(i)?n.appendChild(i):n.insertAdjacentHTML("beforeend",i),f.is.element(this.elements.controls)||f.findElements.call(this),window.navigator.userAgent.includes("Edge")&&f.repaint(n),this.config.tooltips.controls){var s=f.getElements.call(this,[this.config.selectors.controls.wrapper," ",this.config.selectors.labels," .",this.config.classNames.hidden].join(""));Array.from(s).forEach(function(e){f.toggleClass(e,t.config.classNames.hidden,!1),f.toggleClass(e,t.config.classNames.tooltip,!0),e.setAttribute("role","tooltip")})}}},T=f.getBrowser(),A=function(){function t(e){p(this,t),this.player=e,this.lastKey=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}return s(t,[{key:"handleKey",value:function(e){var t=this,i=e.keyCode?e.keyCode:e.which,n="keydown"===e.type,s=n&&i===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&f.is.number(i)){if(n){var a=f.getFocusElement();if(f.is.element(a)&&f.matches(a,this.player.config.selectors.editable))return;switch([48,49,50,51,52,53,54,56,57,32,75,38,40,77,39,37,70,67,73,76,79].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s||(t.player.currentTime=t.player.duration/10*(i-48));break;case 32:case 75:s||this.player.togglePlay();break;case 38:this.player.increaseVolume(.1);break;case 40:this.player.decreaseVolume(.1);break;case 77:s||(this.player.muted=!this.player.muted);break;case 39:this.player.forward();break;case 37:this.player.rewind();break;case 70:this.player.fullscreen.toggle();break;case 67:s||this.player.toggleCaptions();break;case 76:this.player.loop=!this.player.loop}!this.player.fullscreen.enabled&&this.player.fullscreen.active&&27===i&&this.player.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}}},{key:"toggleMenu",value:function(e){E.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){this.player.touch=!0,f.toggleClass(this.player.elements.container,this.player.config.classNames.isTouch,!0),f.off(document.body,"touchstart",this.firstTouch)}},{key:"global",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.player.config.keyboard.global&&f.toggleListener(window,"keydown keyup",this.handleKey,e,!1),f.toggleListener(document.body,"click",this.toggleMenu,e),f.on(document.body,"touchstart",this.firstTouch)}},{key:"container",value:function(){var t=this;!this.player.config.keyboard.global&&this.player.config.keyboard.focused&&f.on(this.player.elements.container,"keydown keyup",this.handleKey,!1),f.on(this.player.elements.container,"focusout",function(e){f.toggleClass(e.target,t.player.config.classNames.tabFocus,!1)}),f.on(this.player.elements.container,"keydown",function(e){9===e.keyCode&&setTimeout(function(){f.toggleClass(f.getFocusElement(),t.player.config.classNames.tabFocus,!0)},0)}),this.player.config.hideControls&&f.on(this.player.elements.container,"mouseenter mouseleave mousemove touchstart touchend touchmove enterfullscreen exitfullscreen",function(e){t.player.toggleControls(e)})}},{key:"media",value:function(){var i=this;if(f.on(this.player.media,"timeupdate seeking",function(e){return w.timeUpdate.call(i.player,e)}),f.on(this.player.media,"durationchange loadedmetadata",function(e){return w.durationUpdate.call(i.player,e)}),f.on(this.player.media,"loadeddata",function(){f.toggleHidden(i.player.elements.volume,!i.player.hasAudio),f.toggleHidden(i.player.elements.buttons.mute,!i.player.hasAudio)}),f.on(this.player.media,"ended",function(){i.player.isHTML5&&i.player.isVideo&&i.player.config.showPosterOnEnd&&(i.player.restart(),i.player.media.load())}),f.on(this.player.media,"progress playing",function(e){return w.updateProgress.call(i.player,e)}),f.on(this.player.media,"volumechange",function(e){return w.updateVolume.call(i.player,e)}),f.on(this.player.media,"playing play pause ended emptied",function(e){return w.checkPlaying.call(i.player,e)}),f.on(this.player.media,"waiting canplay seeked playing",function(e){return w.checkLoading.call(i.player,e)}),f.on(this.player.media,"playing",function(){i.player.ads.enabled&&!i.player.ads.initialized&&i.player.ads.managerPromise.then(function(){return i.player.ads.play()}).catch(function(){return i.player.play()})}),this.player.supported.ui&&this.player.config.clickToPlay&&!this.player.isAudio){var e=f.getElement.call(this.player,"."+this.player.config.classNames.video);if(!f.is.element(e))return;f.on(e,"click",function(){i.player.config.hideControls&&i.player.touch&&!i.player.paused||(i.player.paused?i.player.play():i.player.ended?(i.player.restart(),i.player.play()):i.player.pause())})}this.player.supported.ui&&this.player.config.disableContextMenu&&f.on(this.player.media,"contextmenu",function(e){e.preventDefault()},!1),f.on(this.player.media,"volumechange",function(){i.player.storage.set({volume:i.player.volume,muted:i.player.muted})}),f.on(this.player.media,"ratechange",function(){E.updateSetting.call(i.player,"speed"),i.player.storage.set({speed:i.player.speed})}),f.on(this.player.media,"qualityrequested",function(e){i.player.storage.set({quality:e.detail.quality})}),f.on(this.player.media,"qualitychange",function(e){E.updateSetting.call(i.player,"quality",null,e.detail.quality)}),f.on(this.player.media,"languagechange",function(){E.updateSetting.call(i.player,"captions"),i.player.storage.set({language:i.player.language})}),f.on(this.player.media,"captionsenabled captionsdisabled",function(){E.updateSetting.call(i.player,"captions"),i.player.storage.set({captions:i.player.captions.active})}),f.on(this.player.media,this.player.config.events.concat(["keyup","keydown"]).join(" "),function(e){var t={};"error"===e.type&&(t=i.player.media.error),f.dispatchEvent.call(i.player,i.player.elements.container,e.type,!0,t)})}},{key:"controls",value:function(){var r=this,e=T.isIE?"change":"input",l=function(e,t,i){var n=r.player.config.listeners[i],s=!0;f.is.function(n)&&(s=n.call(r.player,e)),s&&f.is.function(t)&&t.call(r.player,e)},t=function(e,t,i,n){var s=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],a=r.player.config.listeners[n],o=f.is.function(a);f.on(e,t,function(e){return l(e,i,n)},s&&!o)};t(this.player.elements.buttons.play,"click",this.player.togglePlay,"play"),t(this.player.elements.buttons.restart,"click",this.player.restart,"restart"),t(this.player.elements.buttons.rewind,"click",this.player.rewind,"rewind"),t(this.player.elements.buttons.fastForward,"click",this.player.forward,"fastForward"),t(this.player.elements.buttons.mute,"click",function(){r.player.muted=!r.player.muted},"mute"),t(this.player.elements.buttons.captions,"click",this.player.toggleCaptions),t(this.player.elements.buttons.fullscreen,"click",function(){r.player.fullscreen.toggle()},"fullscreen"),t(this.player.elements.buttons.pip,"click",function(){r.player.pip="toggle"},"pip"),t(this.player.elements.buttons.airplay,"click",this.player.airplay,"airplay"),t(this.player.elements.buttons.settings,"click",function(e){E.toggleMenu.call(r.player,e)}),t(this.player.elements.settings.form,"click",function(e){e.stopPropagation(),f.matches(e.target,r.player.config.selectors.inputs.language)?l(e,function(){r.player.language=e.target.value},"language"):f.matches(e.target,r.player.config.selectors.inputs.quality)?l(e,function(){r.player.quality=e.target.value},"quality"):f.matches(e.target,r.player.config.selectors.inputs.speed)?l(e,function(){r.player.speed=parseFloat(e.target.value)},"speed"):E.showTab.call(r.player,e)}),t(this.player.elements.inputs.seek,e,function(e){r.player.currentTime=e.target.value/e.target.max*r.player.duration},"seek"),this.player.config.toggleInvert&&!f.is.element(this.player.elements.display.duration)&&t(this.player.elements.display.currentTime,"click",function(){0!==r.player.currentTime&&(r.player.config.invertTime=!r.player.config.invertTime,w.timeUpdate.call(r.player))}),t(this.player.elements.inputs.volume,e,function(e){r.player.volume=e.target.value},"volume"),T.isWebkit&&t(f.getElements.call(this.player,'input[type="range"]'),"input",function(e){E.updateRangeFill.call(r.player,e.target)}),t(this.player.elements.progress,"mouseenter mouseleave mousemove",function(e){return E.updateSeekTooltip.call(r.player,e)}),this.player.config.hideControls&&(t(this.player.elements.controls,"mouseenter mouseleave",function(e){r.player.elements.controls.hover=!r.player.touch&&"mouseenter"===e.type}),t(this.player.elements.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){r.player.elements.controls.pressed=["mousedown","touchstart"].includes(e.type)}),t(this.player.elements.controls,"focusin focusout",function(e){r.player.toggleControls(e)})),t(this.player.elements.inputs.volume,"wheel",function(e){var t=e.webkitDirectionInvertedFromDevice,i=0;(e.deltaY<0||0<e.deltaX)&&(t?(r.player.decreaseVolume(.02),i=-1):(r.player.increaseVolume(.02),i=1)),(0<e.deltaY||e.deltaX<0)&&(t?(r.player.increaseVolume(.02),i=1):(r.player.decreaseVolume(.02),i=-1)),(1===i&&r.player.media.volume<1||-1===i&&0<r.player.media.volume)&&e.preventDefault()},"volume",!1)}},{key:"clear",value:function(){this.global(!1)}}]),t}(),S=function(){function n(e){p(this,n),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}return s(n,[{key:"get",value:function(e){if(!n.supported)return null;var t=window.localStorage.getItem(this.key);if(f.is.empty(t))return null;var i=JSON.parse(t);return f.is.string(e)&&e.length?i[e]:i}},{key:"set",value:function(e){if(n.supported&&this.enabled&&f.is.object(e)){var t=this.get();f.is.empty(t)&&(t={}),f.extend(t,e),window.localStorage.setItem(this.key,JSON.stringify(t))}}}],[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}]),n}(),x=function(){function t(e){var i=this;p(this,t),this.player=e,this.publisherId=e.config.ads.publisherId,this.enabled=e.isHTML5&&e.isVideo&&e.config.ads.enabled&&f.is.string(this.publisherId)&&this.publisherId.length,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(e,t){i.on("loaded",e),i.on("error",t)}),this.load()}return s(t,[{key:"load",value:function(){var e=this;this.enabled&&(f.is.object(window.google)&&f.is.object(window.google.ima)?this.ready():f.loadScript(this.player.config.urls.googleIMA.api).then(function(){e.ready()}).catch(function(){e.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var e=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){e.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=f.createElement("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container),this.requestAds()}},{key:"requestAds",value:function(){var t=this,e=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return t.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)},!1);var i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=e.offsetWidth,i.linearAdSlotHeight=e.offsetHeight,i.nonLinearAdSlotWidth=e.offsetWidth,i.nonLinearAdSlotHeight=e.offsetHeight,i.forceNonLinearFullSlot=!1,this.loader.requestAds(i)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var i=this;if(!(0<arguments.length&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var e=f.formatTime(Math.max(i.manager.getRemainingTime(),0)),t=b("advertisement",i.player.config)+" - "+e;i.elements.container.setAttribute("data-badge-text",t)},100)}},{key:"onAdsManagerLoaded",value:function(e){var s=this,t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),f.is.empty(this.cuePoints)||this.cuePoints.forEach(function(e){if(0!==e&&-1!==e&&e<s.player.duration){var t=s.player.elements.progress;if(f.is.element(t)){var i=100/s.player.duration*e,n=f.createElement("span",{class:s.player.config.classNames.cues});n.style.left=i.toString()+"%",t.appendChild(n)}}}),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return s.onAdError(e)}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){s.manager.addEventListener(google.ima.AdEvent.Type[e],function(e){return s.onAdEvent(e)})}),this.trigger("loaded")}},{key:"onAdEvent",value:function(e){var i=this,t=this.player.elements.container,n=e.getAd(),s=function(e){var t="ads"+e.replace(/_/g,"").toLowerCase();f.dispatchEvent.call(i.player,i.player.media,t)};switch(e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),s(e.type),this.pollCountdown(!0),n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:s(e.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:s(e.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:s(e.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:s(e.type)}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var n=this,e=this.player.elements.container,s=void 0;this.player.on("ended",function(){n.loader.contentComplete()}),this.player.on("seeking",function(){return s=n.player.currentTime}),this.player.on("seeked",function(){var i=n.player.currentTime;f.is.empty(n.cuePoints)||n.cuePoints.forEach(function(e,t){s<e&&e<i&&(n.manager.discardAdBreak(),n.cuePoints.splice(t,1))})}),window.addEventListener("resize",function(){n.manager&&n.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var t=this,e=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){t.elements.displayContainer.initialize();try{t.initialized||(t.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),t.manager.start()),t.initialized=!0}catch(e){t.onAdError(e)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.currentTime<this.player.duration&&this.player.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var t=this;this.managerPromise.then(function(){t.manager&&t.manager.destroy(),t.managerPromise=new Promise(function(e){t.on("loaded",e),t.player.debug.log(t.manager)}),t.requestAds()}).catch(function(){})}},{key:"trigger",value:function(e){for(var t=this,i=arguments.length,n=Array(1<i?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];var a=this.events[e];f.is.array(a)&&a.forEach(function(e){f.is.function(e)&&e.apply(t,n)})}},{key:"on",value:function(e,t){return f.is.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var i=this;this.player.debug.log("Safety timer invoked from: "+t),this.safetyTimer=setTimeout(function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")},e)}},{key:"clearSafetyTimer",value:function(e){f.is.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: "+e),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"tagUrl",get:function(){var e={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"https://go.aniview.com/api/adserver6/vast/?"+f.buildUrlParams(e)}}]),t}();function I(e){switch(e){case"hd2160":return 2160;case 2160:return"hd2160";case"hd1440":return 1440;case 1440:return"hd1440";case"hd1080":return 1080;case 1080:return"hd1080";case"hd720":return 720;case 720:return"hd720";case"large":return 480;case 480:return"large";case"medium":return 360;case 360:return"medium";case"small":return 240;case 240:return"small";default:return"default"}}var P={setup:function(){var t=this;f.toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),P.setAspectRatio.call(this),f.is.object(window.YT)&&f.is.function(window.YT.Player)?P.ready.call(this):(f.loadScript(this.config.urls.youtube.api).catch(function(e){t.debug.warn("YouTube API failed to load",e)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){P.ready.call(t)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(e){e()})})},getTitle:function(e){var t=this;if(f.is.function(this.embed.getVideoData)){var i=this.embed.getVideoData().title;if(f.is.empty(i))return this.config.title=i,void w.setTitle.call(this)}var n=this.config.keys.google;if(f.is.string(n)&&!f.is.empty(n)){var s="https://www.googleapis.com/youtube/v3/videos?id="+e+"&key="+n+"&fields=items(snippet(title))&part=snippet";f.fetch(s).then(function(e){f.is.object(e)&&(t.config.title=e.items[0].snippet.title,w.setTitle.call(t))}).catch(function(){})}},setAspectRatio:function(){var e=this.config.ratio.split(":");this.elements.wrapper.style.paddingBottom=100/e[0]*e[1]+"%"},ready:function(){var s=this,e=s.media.getAttribute("id");if(f.is.empty(e)||!e.startsWith("youtube-")){var t=s.media.getAttribute("src");f.is.empty(t)&&(t=s.media.getAttribute(this.config.attributes.embed.id));var a=f.parseYouTubeId(t),i=f.generateId(s.provider),n=f.createElement("div",{id:i});s.media=f.replaceElement(n,s.media),s.embed=new window.YT.Player(i,{videoId:a,playerVars:{autoplay:s.config.autoplay?1:0,controls:s.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:s.captions.active?1:0,cc_lang_pref:s.config.captions.language},events:{onError:function(e){if(!f.is.object(s.media.error)){var t={code:e.data};switch(e.data){case 2:t.message="The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.";break;case 5:t.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";break;case 100:t.message="The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.";break;case 101:case 150:t.message="The owner of the requested video does not allow it to be played in embedded players.";break;default:t.message="An unknown error occured"}s.media.error=t,f.dispatchEvent.call(s,s.media,"error")}},onPlaybackQualityChange:function(){f.dispatchEvent.call(s,s.media,"qualitychange",!1,{quality:s.media.quality})},onPlaybackRateChange:function(e){var t=e.target;s.media.playbackRate=t.getPlaybackRate(),f.dispatchEvent.call(s,s.media,"ratechange")},onReady:function(e){var i=e.target;P.getTitle.call(s,a),s.media.play=function(){i.playVideo()},s.media.pause=function(){i.pauseVideo()},s.media.stop=function(){i.stopVideo()},s.media.duration=i.getDuration(),s.media.paused=!0,s.media.currentTime=0,Object.defineProperty(s.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(e){s.media.seeking=!0,f.dispatchEvent.call(s,s.media,"seeking"),i.seekTo(e)}}),Object.defineProperty(s.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(e){i.setPlaybackRate(e)}}),Object.defineProperty(s.media,"quality",{get:function(){return I(i.getPlaybackQuality())},set:function(e){var t=e;i.setPlaybackQuality(I(t)),f.dispatchEvent.call(s,s.media,"qualityrequested",!1,{quality:t})}});var t=s.config.volume;Object.defineProperty(s.media,"volume",{get:function(){return t},set:function(e){t=e,i.setVolume(100*t),f.dispatchEvent.call(s,s.media,"volumechange")}});var n=s.config.muted;Object.defineProperty(s.media,"muted",{get:function(){return n},set:function(e){var t=f.is.boolean(e)?e:n;i[(n=t)?"mute":"unMute"](),f.dispatchEvent.call(s,s.media,"volumechange")}}),Object.defineProperty(s.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(s.media,"ended",{get:function(){return s.currentTime===s.duration}}),s.options.speed=i.getAvailablePlaybackRates(),s.supported.ui&&s.media.setAttribute("tabindex",-1),f.dispatchEvent.call(s,s.media,"timeupdate"),f.dispatchEvent.call(s,s.media,"durationchange"),clearInterval(s.timers.buffering),s.timers.buffering=setInterval(function(){s.media.buffered=i.getVideoLoadedFraction(),(null===s.media.lastBuffered||s.media.lastBuffered<s.media.buffered)&&f.dispatchEvent.call(s,s.media,"progress"),s.media.lastBuffered=s.media.buffered,1===s.media.buffered&&(clearInterval(s.timers.buffering),f.dispatchEvent.call(s,s.media,"canplaythrough"))},200),setTimeout(function(){return w.build.call(s)},50)},onStateChange:function(e){var t,i=e.target;switch(clearInterval(s.timers.playing),e.data){case-1:f.dispatchEvent.call(s,s.media,"timeupdate"),s.media.buffered=i.getVideoLoadedFraction(),f.dispatchEvent.call(s,s.media,"progress");break;case 0:s.media.paused=!0,s.media.loop?(i.stopVideo(),i.playVideo()):f.dispatchEvent.call(s,s.media,"ended");break;case 1:s.media.seeking&&f.dispatchEvent.call(s,s.media,"seeked"),s.media.seeking=!1,s.media.paused&&f.dispatchEvent.call(s,s.media,"play"),s.media.paused=!1,f.dispatchEvent.call(s,s.media,"playing"),s.timers.playing=setInterval(function(){f.dispatchEvent.call(s,s.media,"timeupdate")},50),s.media.duration!==i.getDuration()&&(s.media.duration=i.getDuration(),f.dispatchEvent.call(s,s.media,"durationchange")),E.setQualityMenu.call(s,(t=i.getAvailableQualityLevels(),f.is.empty(t)?t:f.dedupe(t.map(function(e){return I(e)}))));break;case 2:s.media.paused=!0,f.dispatchEvent.call(s,s.media,"pause")}f.dispatchEvent.call(s,s.elements.container,"statechange",!1,{code:e.data})}}})}}},N={setup:function(){var t=this;f.toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),N.setAspectRatio.call(this),f.is.object(window.Vimeo)?N.ready.call(this):f.loadScript(this.config.urls.vimeo.api).then(function(){N.ready.call(t)}).catch(function(e){t.debug.warn("Vimeo API failed to load",e)})},setAspectRatio:function(e){var t=f.is.string(e)?e.split(":"):this.config.ratio.split(":"),i=100/t[0]*t[1],n=(240-i)/4.8;this.elements.wrapper.style.paddingBottom=i+"%",this.media.style.transform="translateY(-"+n+"%)"},ready:function(){var i=this,n=this,e={loop:n.config.loop.active,autoplay:n.autoplay,byline:!1,portrait:!1,title:!1,speed:!0,transparent:0,gesture:"media"},t=f.buildUrlParams(e),s=n.media.getAttribute("src");f.is.empty(s)&&(s=n.media.getAttribute(this.config.attributes.embed.id));var a=f.parseVimeoId(s),o=f.createElement("iframe"),r="https://player.vimeo.com/video/"+a+"?"+t;o.setAttribute("src",r),o.setAttribute("allowfullscreen",""),o.setAttribute("allowtransparency",""),o.setAttribute("allow","autoplay");var l=f.createElement("div");l.appendChild(o),n.media=f.replaceElement(l,n.media),n.embed=new window.Vimeo.Player(o),n.media.paused=!0,n.media.currentTime=0,n.media.play=function(){n.embed.play().then(function(){n.media.paused=!1})},n.media.pause=function(){n.embed.pause().then(function(){n.media.paused=!0})},n.media.stop=function(){n.pause(),n.currentTime=0};var c=n.media.currentTime;Object.defineProperty(n.media,"currentTime",{get:function(){return c},set:function(e){var t=n.media.paused;n.media.seeking=!0,f.dispatchEvent.call(n,n.media,"seeking"),n.embed.setCurrentTime(e),t&&n.pause()}});var u=n.config.speed.selected;Object.defineProperty(n.media,"playbackRate",{get:function(){return u},set:function(e){n.embed.setPlaybackRate(e).then(function(){u=e,f.dispatchEvent.call(n,n.media,"ratechange")}).catch(function(e){"Error"===e.name&&E.setSpeedMenu.call(n,[])})}});var d=n.config.volume;Object.defineProperty(n.media,"volume",{get:function(){return d},set:function(e){n.embed.setVolume(e).then(function(){d=e,f.dispatchEvent.call(n,n.media,"volumechange")})}});var p=n.config.muted;Object.defineProperty(n.media,"muted",{get:function(){return p},set:function(e){var t=!!f.is.boolean(e)&&e;n.embed.setVolume(t?0:n.config.volume).then(function(){p=t,f.dispatchEvent.call(n,n.media,"volumechange")})}});var h=n.config.loop;Object.defineProperty(n.media,"loop",{get:function(){return h},set:function(e){var t=f.is.boolean(e)?e:n.config.loop.active;n.embed.setLoop(t).then(function(){h=t})}});var m=void 0;n.embed.getVideoUrl().then(function(e){m=e}).catch(function(e){i.debug.warn(e)}),Object.defineProperty(n.media,"currentSrc",{get:function(){return m}}),Object.defineProperty(n.media,"ended",{get:function(){return n.currentTime===n.duration}}),Promise.all([n.embed.getVideoWidth(),n.embed.getVideoHeight()]).then(function(e){var t=f.getAspectRatio(e[0],e[1]);N.setAspectRatio.call(i,t)}),n.embed.setAutopause(n.config.autopause).then(function(e){n.config.autopause=e}),n.embed.getVideoTitle().then(function(e){n.config.title=e,w.setTitle.call(i)}),n.embed.getCurrentTime().then(function(e){c=e,f.dispatchEvent.call(n,n.media,"timeupdate")}),n.embed.getDuration().then(function(e){n.media.duration=e,f.dispatchEvent.call(n,n.media,"durationchange")}),n.embed.getTextTracks().then(function(e){n.media.textTracks=e,v.setup.call(n)}),n.embed.on("cuechange",function(e){var t=null;e.cues.length&&(t=f.stripHTML(e.cues[0].text)),v.setText.call(n,t)}),n.embed.on("loaded",function(){f.is.element(n.embed.element)&&n.supported.ui&&n.embed.element.setAttribute("tabindex",-1)}),n.embed.on("play",function(){n.media.paused&&f.dispatchEvent.call(n,n.media,"play"),n.media.paused=!1,f.dispatchEvent.call(n,n.media,"playing")}),n.embed.on("pause",function(){n.media.paused=!0,f.dispatchEvent.call(n,n.media,"pause")}),n.embed.on("timeupdate",function(e){n.media.seeking=!1,c=e.seconds,f.dispatchEvent.call(n,n.media,"timeupdate")}),n.embed.on("progress",function(e){n.media.buffered=e.percent,f.dispatchEvent.call(n,n.media,"progress"),1===parseInt(e.percent,10)&&f.dispatchEvent.call(n,n.media,"canplaythrough")}),n.embed.on("seeked",function(){n.media.seeking=!1,f.dispatchEvent.call(n,n.media,"seeked"),f.dispatchEvent.call(n,n.media,"play")}),n.embed.on("ended",function(){n.media.paused=!0,f.dispatchEvent.call(n,n.media,"ended")}),n.embed.on("error",function(e){n.media.error=e,f.dispatchEvent.call(n,n.media,"error")}),setTimeout(function(){return w.build.call(n)},0)}},M=f.getBrowser(),L={setup:function(){if(this.media)if(f.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),f.toggleClass(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&f.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.supported.ui&&(f.toggleClass(this.elements.container,this.config.classNames.pip.supported,m.pip&&this.isHTML5&&this.isVideo),f.toggleClass(this.elements.container,this.config.classNames.airplay.supported,m.airplay&&this.isHTML5),f.toggleClass(this.elements.container,this.config.classNames.stopped,this.config.autoplay),f.toggleClass(this.elements.container,this.config.classNames.isIos,M.isIos),f.toggleClass(this.elements.container,this.config.classNames.isTouch,this.touch)),this.isVideo&&(this.elements.wrapper=f.createElement("div",{class:this.config.classNames.video}),f.wrap(this.media,this.elements.wrapper)),this.isEmbed)switch(this.provider){case"youtube":P.setup.call(this);break;case"vimeo":N.setup.call(this)}else this.isHTML5&&(w.setTitle.call(this),k.extend.call(this));else this.debug.warn("No media element found!")}},_={insertElements:function(t,e){var i=this;f.is.string(e)?f.insertElement(t,this.media,{src:e}):f.is.array(e)&&e.forEach(function(e){f.insertElement(t,i.media,e)})},change:function(e){var t=this;f.is.object(e)&&"sources"in e&&e.sources.length?(k.cancelRequests.call(this),this.destroy.call(this,function(){switch(t.options.quality=[],f.removeElement(t.media),t.media=null,f.is.element(t.elements.container)&&t.elements.container.removeAttribute("class"),t.type=e.type,t.provider=f.is.empty(e.sources[0].provider)?c.html5:e.sources[0].provider,t.supported=m.check(t.type,t.provider,t.config.inline),t.provider+":"+t.type){case"html5:video":t.media=f.createElement("video");break;case"html5:audio":t.media=f.createElement("audio");break;case"youtube:video":case"vimeo:video":t.media=f.createElement("div",{src:e.sources[0].src})}t.elements.container.appendChild(t.media),f.is.boolean(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),"poster"in e&&t.media.setAttribute("poster",e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.inline&&t.media.setAttribute("playsinline","")),w.addStyleHook.call(t),t.isHTML5&&_.insertElements.call(t,"source",e.sources),t.config.title=e.title,L.setup.call(t),t.isHTML5&&("tracks"in e&&_.insertElements.call(t,"track",e.tracks),t.media.load()),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&w.build.call(t),t.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};return function(){function l(e,t){var i=this;if(p(this,l),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=m.touch,this.media=e,f.is.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||f.is.nodeList(this.media)||f.is.array(this.media))&&(this.media=this.media[0]),this.config=f.extend({},d,t,function(){try{return JSON.parse(i.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,buttons:{},display:{},progress:{},inputs:{},settings:{menu:null,panes:{},tabs:{}},captions:null},this.captions={active:null,currentTrack:null},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new h(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",m),!f.is.nullOrUndefined(this.media)&&f.is.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(m.check().api){setTimeout(function(){var e=i.media.cloneNode(!0);e.getAttribute("autoplay")&&e.pause(),i.elements.original=e},0);var n=this.media.tagName.toLowerCase(),s=null,a=null,o=null;switch(n){case"div":if(s=this.media.querySelector("iframe"),f.is.element(s)){if(a=s.getAttribute("src"),this.provider=f.getProviderByUrl(a),this.elements.container=this.media,this.media=s,this.elements.container.className="",o=f.getUrlParams(a),!f.is.empty(o)){var r=["1","true"];r.includes(o.autoplay)&&(this.config.autoplay=!0),r.includes(o.playsinline)&&(this.config.inline=!0),r.includes(o.loop)&&(this.config.loop.active=!0)}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(f.is.empty(this.provider)||!Object.keys(c).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=u.video;break;case"video":case"audio":this.type=n,this.provider=c.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),this.media.hasAttribute("playsinline")&&(this.config.inline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=m.check(this.type,this.provider,this.config.inline),this.supported.api?(this.listeners=new A(this),this.storage=new S(this),this.media.plyr=this,f.is.element(this.elements.container)||(this.elements.container=f.createElement("div"),f.wrap(this.media,this.elements.container)),this.elements.container.setAttribute("tabindex",0),w.addStyleHook.call(this),L.setup.call(this),this.config.debug&&f.on(this.elements.container,this.config.events.join(" "),function(e){i.debug.log("event: "+e.type)}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&w.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new y(this),this.ads=new x(this),this.config.autoplay&&this.play()):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return s(l,[{key:"play",value:function(){return f.is.function(this.media.play)?this.media.play():null}},{key:"pause",value:function(){this.playing&&f.is.function(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(e){(f.is.boolean(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?this.media.load():f.is.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime=this.currentTime-(f.is.number(e)?e:this.config.seekTime)}},{key:"forward",value:function(e){this.currentTime=this.currentTime+(f.is.number(e)?e:this.config.seekTime)}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(f.is.number(e)?e:1)}},{key:"decreaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t-(f.is.number(e)?e:1)}},{key:"toggleCaptions",value:function(e){if(this.supported.ui&&f.is.element(this.elements.buttons.captions)){var t=f.is.boolean(e)?e:-1===this.elements.container.className.indexOf(this.config.classNames.captions.active);this.captions.active!==t&&(this.captions.active=t,f.toggleState(this.elements.buttons.captions,this.captions.active),f.toggleClass(this.elements.container,this.config.classNames.captions.active,this.captions.active),f.dispatchEvent.call(this,this.media,this.captions.active?"captionsenabled":"captionsdisabled"))}}},{key:"airplay",value:function(){m.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){var t=this;if(f.is.element(this.elements.controls)&&this.supported.ui&&!this.isAudio){var i=0,n=e,s=!1;if(!f.is.boolean(e))if(f.is.event(e)){s="enterfullscreen"===e.type;n=["touchstart","touchmove","mouseenter","mousemove","focusin"].includes(e.type),["touchmove","touchend","mousemove"].includes(e.type)&&(i=2e3),this.touch||"focusin"!==e.type||(i=3e3,f.toggleClass(this.elements.controls,this.config.classNames.noTransition,!0))}else n=f.hasClass(this.elements.container,this.config.classNames.hideControls);if(clearTimeout(this.timers.controls),n||this.paused||this.loading){if(f.toggleClass(this.elements.container,this.config.classNames.hideControls,!1)&&f.dispatchEvent.call(this,this.media,"controlsshown"),this.paused||this.loading)return;this.touch&&(i=3e3)}n&&!this.playing||(this.timers.controls=setTimeout(function(){f.is.element(t.elements.controls)&&((!t.elements.controls.pressed&&!t.elements.controls.hover||s)&&(f.hasClass(t.elements.container,t.config.classNames.hideControls)||f.toggleClass(t.elements.controls,t.config.classNames.noTransition,!1),f.toggleClass(t.elements.container,t.config.classNames.hideControls,!0)&&(f.dispatchEvent.call(t,t.media,"controlshidden"),t.config.controls.includes("settings")&&!f.is.empty(t.config.settings)&&E.toggleMenu.call(t,!1))))},i))}}},{key:"on",value:function(e,t){f.on(this.elements.container,e,t)}},{key:"off",value:function(e,t){f.off(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.ready){var n=function(){document.body.style.overflow="",t.embed=null,i?(Object.keys(t.elements).length&&(f.removeElement(t.elements.buttons.play),f.removeElement(t.elements.captions),f.removeElement(t.elements.controls),f.removeElement(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),f.is.function(e)&&e()):(t.listeners.clear(),f.replaceElement(t.elements.original,t.elements.container),f.dispatchEvent.call(t,t.elements.original,"destroyed",!0),f.is.function(e)&&e.call(t.elements.original),t.ready=!1,setTimeout(function(){t.elements=null,t.media=null},200))};switch(this.stop(),this.provider+":"+this.type){case"html5:video":case"html5:audio":clearTimeout(this.timers.loading),w.toggleNativeControls.call(this,!0),n();break;case"youtube:video":clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&f.is.function(this.embed.destroy)&&this.embed.destroy(),n();break;case"vimeo:video":null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200)}}}},{key:"supports",value:function(e){return m.mime.call(this,e)}},{key:"isHTML5",get:function(){return Boolean(this.provider===c.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===c.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===c.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===u.video)}},{key:"isAudio",get:function(){return Boolean(this.type===u.audio)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"playing",get:function(){return Boolean(!this.paused&&!this.ended&&(!this.isHTML5||2<this.media.readyState))}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){var t=0;f.is.number(e)&&(t=e),t<0?t=0:t>this.duration&&(t=this.duration),this.media.currentTime=parseFloat(t.toFixed(4)),this.debug.log("Seeking to "+this.currentTime+" seconds")},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return f.is.number(e)?e:e&&e.length&&0<this.duration?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseInt(this.config.duration,10),t=this.media?Number(this.media.duration):0;return Number.isNaN(e)?t:e}},{key:"volume",set:function(e){var t=e;f.is.string(t)&&(t=Number(t)),f.is.number(t)||(t=this.storage.get("volume")),f.is.number(t)||(t=this.config.volume),1<t&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!f.is.empty(e)&&this.muted&&0<t&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;f.is.boolean(t)||(t=this.storage.get("muted")),f.is.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}},{key:"speed",set:function(e){var t=null;f.is.number(e)&&(t=e),f.is.number(t)||(t=this.storage.get("speed")),f.is.number(t)||(t=this.config.speed.selected),t<.1&&(t=.1),2<t&&(t=2),this.config.speed.options.includes(t)?(this.config.speed.selected=t,this.media.playbackRate=t):this.debug.warn("Unsupported speed ("+t+")")},get:function(){return Number(this.media.playbackRate)}},{key:"quality",set:function(e){var t=null;if(f.is.empty(e)||(t=Number(e)),f.is.number(t)&&0!==t||(t=this.storage.get("quality")),f.is.number(t)||(t=this.config.quality.selected),f.is.number(t)||(t=this.config.quality.default),this.options.quality.length){if(!this.options.quality.includes(t)){var i=f.closest(this.options.quality,t);this.debug.warn("Unsupported quality option: "+t+", using "+i+" instead"),t=i}this.config.quality.selected=t,this.media.quality=t}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=f.is.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){_.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"poster",set:function(e){this.isHTML5&&this.isVideo?f.is.string(e)&&this.media.setAttribute("poster",e):this.debug.warn("Poster can only be set on HTML5 video")},get:function(){return this.isHTML5&&this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(e){var t=f.is.boolean(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"language",set:function(e){if(f.is.string(e)&&(this.toggleCaptions(!f.is.empty(e)),!f.is.empty(e))){var t=e.toLowerCase();this.language!==t&&(this.captions.language=t,v.setText.call(this,null),v.setLanguage.call(this),f.dispatchEvent.call(this,this.media,"languagechange"))}},get:function(){return this.captions.language}},{key:"pip",set:function(e){var t="picture-in-picture",i="inline";if(m.pip){var n=f.is.boolean(e)?e:this.pip===i;this.media.webkitSetPresentationMode(n?t:i)}},get:function(){return m.pip?this.media.webkitPresentationMode:null}}],[{key:"supported",value:function(e,t,i){return m.check(e,t,i)}},{key:"loadSprite",value:function(e,t){return f.loadSprite(e,t)}}]),l}()}),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.SmoothScroll=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(k){"use strict";var u="querySelector"in document&&"addEventListener"in k&&"requestAnimationFrame"in k&&"closest"in k.Element.prototype,C={ignore:"[data-scroll-ignore]",header:null,speed:500,offset:0,easing:"easeInOutCubic",customEasing:null,before:function(){},after:function(){}},E=function(){for(var i={},e=0,t=arguments.length;e<t;e++){!function(e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t])}(arguments[e])}return i},d=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,i=String(e),n=i.length,s=-1,a="",o=i.charCodeAt(0);++s<n;){if(0===(t=i.charCodeAt(s)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=1<=t&&t<=31||127==t||0===s&&48<=t&&t<=57||1===s&&48<=t&&t<=57&&45===o?"\\"+t.toString(16)+" ":128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?i.charAt(s):"\\"+i.charAt(s)}return"#"+a},T=function(e){return e?(t=e,parseInt(k.getComputedStyle(t).height,10)+e.offsetTop):0;var t};return function(n,e){var v,s,a,i,b,t,o,w={cancelScroll:function(){cancelAnimationFrame(o)}};w.animateScroll=function(a,o,e){var r=E(v||C,e||{}),l="[object Number]"===Object.prototype.toString.call(a),t=l||!a.tagName?null:a;if(l||t){var c=k.pageYOffset;r.header&&!i&&(i=document.querySelector(r.header)),b||(b=T(i));var u,s,d,p=l?a:function(e,t,i){var n=0;if(e.offsetParent)for(;n+=e.offsetTop,e=e.offsetParent;);return Math.max(n-t-i,0)}(t,b,parseInt("function"==typeof r.offset?r.offset():r.offset,10)),h=p-c,m=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),f=0,g=function(e,t){var i,n,s=k.pageYOffset;if(e==t||s==t||(c<t&&k.innerHeight+s)>=m)return w.cancelScroll(),i=a,n=t,l||(i.focus(),document.activeElement.id!==i.id&&(i.setAttribute("tabindex","-1"),i.focus(),i.style.outline="none"),k.scrollTo(0,n)),r.after(a,o),!(u=null)},y=function(e){var t,i,n;u||(u=e),s=(f+=e-u)/parseInt(r.speed,10),d=c+h*(i=s=1<s?1:s,"easeInQuad"===(t=r).easing&&(n=i*i),"easeOutQuad"===t.easing&&(n=i*(2-i)),"easeInOutQuad"===t.easing&&(n=i<.5?2*i*i:(4-2*i)*i-1),"easeInCubic"===t.easing&&(n=i*i*i),"easeOutCubic"===t.easing&&(n=--i*i*i+1),"easeInOutCubic"===t.easing&&(n=i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1),"easeInQuart"===t.easing&&(n=i*i*i*i),"easeOutQuart"===t.easing&&(n=1- --i*i*i*i),"easeInOutQuart"===t.easing&&(n=i<.5?8*i*i*i*i:1-8*--i*i*i*i),"easeInQuint"===t.easing&&(n=i*i*i*i*i),"easeOutQuint"===t.easing&&(n=1+--i*i*i*i*i),"easeInOutQuint"===t.easing&&(n=i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i),t.customEasing&&(n=t.customEasing(i)),n||i),k.scrollTo(0,Math.floor(d)),g(d,p)||(k.requestAnimationFrame(y),u=e)};0===k.pageYOffset&&k.scrollTo(0,0),r.before(a,o),w.cancelScroll(),k.requestAnimationFrame(y)}};var r=function(e){s&&(s.id=s.getAttribute("data-scroll-id"),w.animateScroll(s,a),a=s=null)},l=function(e){if(!("matchMedia"in k&&k.matchMedia("(prefers-reduced-motion)").matches)&&0===e.button&&!e.metaKey&&!e.ctrlKey&&(a=e.target.closest(n))&&"a"===a.tagName.toLowerCase()&&!e.target.closest(v.ignore)&&a.hostname===k.location.hostname&&a.pathname===k.location.pathname&&/#/.test(a.href)){var t;try{t=d(decodeURIComponent(a.hash))}catch(e){t=d(a.hash)}if("#"===t){e.preventDefault();var i=(s=document.body).id?s.id:"smooth-scroll-top";return s.setAttribute("data-scroll-id",i),s.id="",void(k.location.hash.substring(1)===i?r():k.location.hash=i)}(s=document.querySelector(t))&&(s.setAttribute("data-scroll-id",s.id),s.id="",a.hash===k.location.hash&&(e.preventDefault(),r()))}},c=function(e){t||(t=setTimeout(function(){t=null,b=T(i)},66))};return w.destroy=function(){v&&(document.removeEventListener("click",l,!1),k.removeEventListener("resize",c,!1),w.cancelScroll(),o=t=b=i=a=s=v=null)},w.init=function(e){u&&(w.destroy(),v=E(C,e||{}),i=v.header?document.querySelector(v.header):null,b=T(i),document.addEventListener("click",l,!1),k.addEventListener("hashchange",r,!1),i&&k.addEventListener("resize",c,!1))},w.init(e),w}}),$(document).ready(function(){$('a[data-gallery="js-popup"]').magnificPopup({type:"ajax",alignTop:!0,overflowY:"scroll"}),$('a[data-findme="js-modal"]').magnificPopup({type:"inline",preloader:!1,removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect")}}});new Plyr(".js-player")}),function(n){n.fn.menumaker=function(e){var t=n(this),i=n.extend({title:"Menu",format:"dropdown",sticky:!1},e);return this.each(function(){return t.prepend('<div id="menu-button">'+i.title+"</div>"),n(this).find("#menu-button").on("click",function(){n(this).toggleClass("menu-opened");var e=n(this).next("ul");e.hasClass("open")?e.hide().removeClass("open"):(e.show().addClass("open"),"dropdown"===i.format&&e.find("ul").show())}),t.find("li ul").parent().addClass("has-sub"),multiTg=function(){t.find(".has-sub").prepend('<span class="submenu-button"></span>'),t.find(".submenu-button").on("click",function(){n(this).toggleClass("submenu-opened"),n(this).siblings("ul").hasClass("open")?n(this).siblings("ul").removeClass("open").hide():n(this).siblings("ul").addClass("open").show()})},"multitoggle"===i.format?multiTg():t.addClass("dropdown"),!0===i.sticky&&t.css("position","fixed"),resizeFix=function(){639<n(window).width()&&t.find("ul").show(),n(window).width()<=639&&t.find("ul").hide().removeClass("open")},resizeFix(),n(window).on("resize",resizeFix)})}}(jQuery),function(e){e(document).ready(function(){e("#js-css-menu").menumaker({title:"Menu",format:"multitoggle"})})}(jQuery),$(document).ready(function(){function e(){var e=window.innerHeight+"px";document.getElementsByTagName("html")[0].style.height="auto",document.getElementsByTagName("body")[0].style.height=e}window.addEventListener("resize",function(){e()}),e();new SmoothScroll("[data-smoothscroll]",{header:"[data-scroll-header]",speed:1e3})});